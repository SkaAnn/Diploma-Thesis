{"version":3,"sources":["constants/productConstants.js","constants/userConstants.js","store.js","reducers/productReducers.js","reducers/userReducers.js","actions/userActions.js","components/SearchBox.js","components/Header.js","components/Footer.js","components/Message.js","components/Loader.js","components/SortPanel.js","components/FilterPanel.js","components/SecondHeader.js","components/MyPagination.js","utils/options.js","utils/translate.js","actions/productActions.js","components/ProductCard.js","screens/HomeScreen.js","components/FormContainerSmall.js","screens/LoginScreen.js","components/UserInfoPanel.js","screens/UserProductsScreen.js","components/ImageCarousel.js","config.js","screens/ProductScreen.js","components/FixRequiredSelect.js","components/ReactSelect.js","components/UploadMultipleImages.js","components/UploadMultipleImages2.js","screens/ProfileScreen.js","screens/FavoriteProductsScreen.js","screens/RegisterScreenNew.js","screens/ProfileUpdateScreenNew.js","screens/ProductCreateScreenNew.js","screens/My404Screen.js","screens/ProductEditScreenNew.js","App.js","reportWebVitals.js","index.js"],"names":["PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_DETAILS_RESET","PRODUCT_LIST_USER_REQUEST","PRODUCT_LIST_USER_SUCCESS","PRODUCT_LIST_USER_FAIL","PRODUCT_LIST_MY_REQUEST","PRODUCT_LIST_MY_SUCCESS","PRODUCT_LIST_MY_FAIL","PRODUCT_LIST_MY_RESET","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_FAIL","PRODUCT_CREATE_RESET","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_FAIL","PRODUCT_UPDATE_RESET","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAIL","PRODUCT_DELETE_RESET","PRODUCT_ADD_FOLLOWER_REQUEST","PRODUCT_ADD_FOLLOWER_SUCCESS","PRODUCT_ADD_FOLLOWER_FAIL","PRODUCT_REMOVE_FOLLOWER_REQUEST","PRODUCT_REMOVE_FOLLOWER_SUCCESS","PRODUCT_REMOVE_FOLLOWER_FAIL","PRODUCT_LIST_FAVORITE_REQUEST","PRODUCT_LIST_FAVORITE_SUCCESS","PRODUCT_LIST_FAVORITE_FAIL","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","USER_LOGOUT","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAIL","USER_PROFILE_REQUEST","USER_PROFILE_SUCCESS","USER_PROFILE_FAIL","USER_PROFILE_RESET","USER_UPDATE_PROFILE_REQUEST","USER_UPDATE_PROFILE_SUCCESS","USER_UPDATE_PROFILE_FAIL","USER_UPDATE_PROFILE_RESET","reducer","combineReducers","productList","state","products","action","type","loading","payload","count","pages","page","error","productDetails","product","user","productListUser","productListMy","productCreate","success","productUpdate","productDelete","productAddFollower","productRemoveFollower","productListFavorite","userLogin","userInfo","userRegister","userDetails","userProfile","userUpdateProfile","initialState","localStorage","getItem","JSON","parse","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","register","dispatch","a","config","headers","axios","post","data","setItem","stringify","response","message","getUserProfile","getState","Authorization","token","get","updateUserProfile","put","SearchBox","history","useState","keyword","setKeyword","Form","onSubmit","e","preventDefault","trim","push","inline","className","Row","Col","Control","name","placeholder","onChange","target","value","style","fontSize","width","Header","useDispatch","useSelector","Navbar","fixed","expand","collapseOnSelect","minHeight","boxShadow","backgroundColor","Container","to","Brand","Toggle","aria-controls","Collapse","id","render","Nav","Link","NavDropdown","title","Item","onClick","removeItem","color","Footer","lineHeight","href","Date","getFullYear","Message","variant","children","Alert","defaultProps","Loader","Spinner","animation","role","height","margin","display","SortPanel","filter","prevProps","sortKey","setSortKey","oldKeyword","setOldKeyword","customStyles","control","base","setState","selectedOption","useEffect","reload","console","log","url","options","label","styles","FilterPanel","classification","setClassification","condition","setCondition","filterStr","Object","keys","map","keyName","Group","as","controlId","Label","column","sm","Check","checked","supply","demand","donor","new","used","handmade","Button","SecondHeader","match","show","setShow","params","md","size","cursor","lg","MyPagination","props","activePage","pageNumber","this","totalItemsCount","screen","itemsCountPerPage","pageRangeDisplayed","handlePageChange","bind","Component","categoryOptions","sort","b","nameA","toUpperCase","nameB","triangleColor","translateClassification","getCategoryName","val","opt","translateCondition","listProductDetails","listMyProducts","pageSize","createProduct","updateProduct","_id","followProduct","unfollowProduct","ProductCard","isFavorite","setIsFavorite","onLoad","setOnLoad","isFollower","followers","some","item","toString","addOrRemoveHandler","src","images","length","alt","maxHeight","borderColor","zIndex","price","HomeScreen","listProducts","maxWidth","xl","FormContainerSmall","myHeight","xs","position","LoginScreen","location","email","setEmail","password","setPassword","redirect","search","split","login","marginBottom","UserInfoPanel","ListGroup","padding","profileImage","phoneNumber","locality","profileInfo","marketPolicy","UserProductsScreen","loadingProducts","errorProducts","listUserProducts","border","ImageCarousel","env","ProductScreen","productId","activeItem","setActiveItem","toggle","tab","feedback","setFeedback","formSubmitted","setFormSubmitted","formSubmitSuccessful","setFormSubmitSuccessful","onClickHandler","verticalAlign","top","right","minWidth","receiverEmail","templateId","senderEmail","window","emailjs","send","sender_email","receiver_email","sender_name","product_name","then","res","status","catch","err","sendFeedback","rows","required","countInStock","float","createdAt","substring","letterSpacing","link","active","tabId","description","Table","striped","origin","brand","undefined","measures","depth","weight","moreProperties","index","key","shipping","typ","noop","FixRequiredSelect","selectRef","setSelectRef","ref","actionMeta","getValue","SelectComponent","enableRequired","isDisabled","tabIndex","autoComplete","opacity","onFocus","focus","React","protoTypes","selectComponent","PropTypes","func","isRequired","bool","ReactSelect","handleChange","onSelect","Select","BaseSelect","req","UploadMultipleImages","fileObj","fileArray","file","uploadMultipleFiles","uploadFiles","Array","from","files","forEach","i","URL","createObjectURL","onUpload","splice","deleteImage","multiple","fileNewObj","imagesUrl","imageObj","UserProfileScreen","newPageNumber","setNewPageNumber","productCreateSuccess","productUpdateSuccess","successDelete","deleteHandler","confirm","delete","deleteProduct","bordered","responsive","Image","fluid","rounded","FavoriteProductsScreen","listFavoriteProducts","category","RegisterScreenNew","profileType","setProfileType","setName","confirmPassword","setConfirmPassword","setPhoneNumber","setLocality","setMessage","ProfileUpdateScreenNew","setProfileInfo","setMarketPolicy","newPassword","setNewPassword","confirmNewPassword","setConfirmNewPassword","setProfileImage","image","setImage","uploading","setUploading","uploadFileHandler","formData","FormData","append","authorizeUser","handleImage","handlePhoto","imageChangeHandler","submitHandler","isCorrectPassword","imgUrl","updatedUser","borderRadius","File","custom","plaintext","readOnly","ProductCreateScreenNew","message2","setMessage2","errors","setErrors","form","setForm","setImages","setMeasures","propsList","setPropsList","shippingList","setShippingList","part","setPart","step1","step2","setStep2","step3","setStep3","allDone","setAllDone","successCreate","setField","field","findFormErrors","newErrors","handleInputChange","list","handleAddClick","handleInputChangeShipping","handleAddClickShipping","submitFirstPartHandler","submitSecondPartHandler","isBlankPropList","isBlank","it","isBlankShippingList","submitAllHandler","blankPropList","blankShippingList","imagesArr","newProduct","background","isInvalid","Feedback","step","min","Number","Text","muted","x","handleRemoveClickShipping","handleRemoveClick","My404Screen","transform","ProductEditScreenNew","setDescription","setPrice","setCountInStock","setOrigin","setBrand","setCategory","setReload","successUpdate","newImgFiles","oldImgs","j","k","concat","userId","App","path","component","exact","ProfileScreen","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.a5a3b318.chunk.js","sourcesContent":["export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST'\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS'\r\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL'\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST'\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS'\r\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL'\r\nexport const PRODUCT_DETAILS_RESET = 'PRODUCT_DETAILS_RESET'\r\n\r\nexport const PRODUCT_LIST_USER_REQUEST = 'PRODUCT_LIST_USER_REQUEST'\r\nexport const PRODUCT_LIST_USER_SUCCESS = 'PRODUCT_LIST_USER_SUCCESS'\r\nexport const PRODUCT_LIST_USER_FAIL = 'PRODUCT_LIST_USER_FAIL'\r\n\r\nexport const PRODUCT_LIST_MY_REQUEST = 'PRODUCT_LIST_MY_REQUEST'\r\nexport const PRODUCT_LIST_MY_SUCCESS = 'PRODUCT_LIST_MY_SUCCESS'\r\nexport const PRODUCT_LIST_MY_FAIL = 'PRODUCT_LIST_MY_FAIL'\r\nexport const PRODUCT_LIST_MY_RESET = 'PRODUCT_LIST_MY_RESET'\r\n\r\nexport const PRODUCT_CREATE_REQUEST = 'PRODUCT_CREATE_REQUEST'\r\nexport const PRODUCT_CREATE_SUCCESS = 'PRODUCT_CREATE_SUCCESS'\r\nexport const PRODUCT_CREATE_FAIL = 'PRODUCT_CREATE_FAIL'\r\nexport const PRODUCT_CREATE_RESET = 'PRODUCT_CREATE_RESET'\r\n\r\nexport const PRODUCT_UPDATE_REQUEST = 'PRODUCT_UPDATE_REQUEST'\r\nexport const PRODUCT_UPDATE_SUCCESS = 'PRODUCT_UPDATE_SUCCESS'\r\nexport const PRODUCT_UPDATE_FAIL = 'PRODUCT_UPDATE_FAIL'\r\nexport const PRODUCT_UPDATE_RESET = 'PRODUCT_UPDATE_RESET'\r\n\r\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST'\r\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS'\r\nexport const PRODUCT_DELETE_FAIL = 'PRODUCT_DELETE_FAIL'\r\nexport const PRODUCT_DELETE_RESET = 'PRODUCT_DELETE_RESET'\r\n\r\nexport const PRODUCT_ADD_FOLLOWER_REQUEST = 'PRODUCT_ADD_FOLLOWER_REQUEST'\r\nexport const PRODUCT_ADD_FOLLOWER_SUCCESS = 'PRODUCT_ADD_FOLLOWER_SUCCESS'\r\nexport const PRODUCT_ADD_FOLLOWER_FAIL = 'PRODUCT_ADD_FOLLOWER_FAIL'\r\n\r\nexport const PRODUCT_REMOVE_FOLLOWER_REQUEST = 'PRODUCT_REMOVE_FOLLOWER_REQUEST'\r\nexport const PRODUCT_REMOVE_FOLLOWER_SUCCESS = 'PRODUCT_REMOVE_FOLLOWER_SUCCESS'\r\nexport const PRODUCT_REMOVE_FOLLOWER_FAIL = 'PRODUCT_REMOVE_FOLLOWER_FAIL'\r\n\r\nexport const PRODUCT_LIST_FAVORITE_REQUEST = 'PRODUCT_LIST_FAVORITE_REQUEST'\r\nexport const PRODUCT_LIST_FAVORITE_SUCCESS = 'PRODUCT_LIST_FAVORITE_SUCCESS'\r\nexport const PRODUCT_LIST_FAVORITE_FAIL = 'PRODUCT_LIST_FAVORITE_FAIL'","export const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST'\r\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS'\r\nexport const USER_LOGIN_FAIL = 'USER_LOGIN_FAIL'\r\nexport const USER_LOGOUT = 'USER_LOGOUT'\r\n\r\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST'\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS'\r\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL'\r\n\r\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST'\r\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS'\r\nexport const USER_DETAILS_FAIL = 'USER_DETAILS_FAIL'\r\n\r\nexport const USER_PROFILE_REQUEST = 'USER_PROFILE_REQUEST'\r\nexport const USER_PROFILE_SUCCESS = 'USER_PROFILE_SUCCESS'\r\nexport const USER_PROFILE_FAIL = 'USER_PROFILE_FAIL'\r\nexport const USER_PROFILE_RESET = 'USER_PROFILE_RESET'\r\n\r\nexport const USER_UPDATE_PROFILE_REQUEST = 'USER_UPDATE_PROFILE_REQUEST'\r\nexport const USER_UPDATE_PROFILE_SUCCESS = 'USER_UPDATE_PROFILE_SUCCESS'\r\nexport const USER_UPDATE_PROFILE_FAIL = 'USER_UPDATE_PROFILE_FAIL'\r\nexport const USER_UPDATE_PROFILE_RESET = 'USER_UPDATE_PROFILE_RESET'","// Redux store file\r\n// to store all reducers and middleware\r\nimport { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\nimport {\r\n    productListReducer, productDetailsReducer, productListUserReducer,\r\n    productCreateReducer, productUpdateReducer, productListMyReducer,\r\n    productDeleteReducer, productAddFollowerReducer, productRemoveFollowerReducer,\r\n    productListFavoriteReducer\r\n} from './reducers/productReducers'\r\nimport {\r\n    userLoginReducer, userRegisterReducer, userDetailsReducer,\r\n    userProfileReducer, userUpdateProfileReducer\r\n} from './reducers/userReducers'\r\n\r\nconst reducer = combineReducers({\r\n    productList: productListReducer,\r\n    productDetails: productDetailsReducer,\r\n    productListUser: productListUserReducer,\r\n    productListMy: productListMyReducer,\r\n    productCreate: productCreateReducer,\r\n    productUpdate: productUpdateReducer,\r\n    productDelete: productDeleteReducer,\r\n    productAddFollower: productAddFollowerReducer,\r\n    productRemoveFollower: productRemoveFollowerReducer,\r\n    productListFavorite: productListFavoriteReducer,\r\n    userLogin: userLoginReducer,\r\n    userRegister: userRegisterReducer,\r\n    userDetails: userDetailsReducer,\r\n    userProfile: userProfileReducer,\r\n    userUpdateProfile: userUpdateProfileReducer,\r\n})\r\n\r\n// Get from local storage\r\nconst userInfoFromStorage = localStorage.getItem('userInfo')\r\n    ? JSON.parse(localStorage.getItem('userInfo'))\r\n    : null\r\n\r\nconst initialState = {\r\n    userLogin: { userInfo: userInfoFromStorage }\r\n}\r\n\r\nconst middleware = [thunk]\r\n\r\nconst store = createStore(reducer, initialState, composeWithDevTools(applyMiddleware(...middleware)))\r\n\r\nexport default store","import {\r\n    PRODUCT_CREATE_FAIL, PRODUCT_CREATE_REQUEST, PRODUCT_CREATE_RESET, PRODUCT_CREATE_SUCCESS,\r\n    PRODUCT_DETAILS_FAIL, PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_RESET, PRODUCT_DETAILS_SUCCESS,\r\n    PRODUCT_LIST_FAIL, PRODUCT_LIST_REQUEST, PRODUCT_LIST_SUCCESS,\r\n    PRODUCT_LIST_MY_FAIL, PRODUCT_LIST_MY_REQUEST, PRODUCT_LIST_MY_RESET, PRODUCT_LIST_MY_SUCCESS,\r\n    PRODUCT_LIST_USER_FAIL, PRODUCT_LIST_USER_REQUEST, PRODUCT_LIST_USER_SUCCESS,\r\n    PRODUCT_UPDATE_FAIL, PRODUCT_UPDATE_REQUEST, PRODUCT_UPDATE_RESET, PRODUCT_UPDATE_SUCCESS,\r\n    PRODUCT_DELETE_REQUEST, PRODUCT_DELETE_SUCCESS, PRODUCT_DELETE_FAIL, PRODUCT_DELETE_RESET,\r\n    PRODUCT_ADD_FOLLOWER_REQUEST, PRODUCT_ADD_FOLLOWER_SUCCESS, PRODUCT_ADD_FOLLOWER_FAIL,\r\n    PRODUCT_REMOVE_FOLLOWER_REQUEST, PRODUCT_REMOVE_FOLLOWER_SUCCESS, PRODUCT_REMOVE_FOLLOWER_FAIL, \r\n    PRODUCT_LIST_FAVORITE_REQUEST, PRODUCT_LIST_FAVORITE_SUCCESS, PRODUCT_LIST_FAVORITE_FAIL\r\n} from '../constants/productConstants'\r\n\r\n// Fetch all products\r\nexport const productListReducer = (state = { products: [] }, action) => {\r\n    // evaluate object action type\r\n    switch (action.type) {\r\n        // product list request\r\n        case PRODUCT_LIST_REQUEST:  // action\r\n            return { loading: true, products: [] }    // currently fetching - making request\r\n\r\n        // product list success - get the data, success res\r\n        case PRODUCT_LIST_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                products: action.payload.products,\r\n                count: action.payload.count,\r\n                pages: action.payload.pages,\r\n                page: action.payload.page\r\n            } // data in payload\r\n\r\n        // product list fail - error\r\n        case PRODUCT_LIST_FAIL:\r\n            return { loading: false, error: action.payload }    // error in payload\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const productDetailsReducer = (state = { product: { user: {} } }, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_DETAILS_REQUEST:\r\n            return { loading: true, ...state }\r\n        case PRODUCT_DETAILS_SUCCESS:\r\n            return { loading: false, product: action.payload }\r\n        case PRODUCT_DETAILS_FAIL:\r\n            return { loading: false, error: action.payload }\r\n        case PRODUCT_DETAILS_RESET:\r\n            return { product: { user: {} } }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// Fetch products by user\r\nexport const productListUserReducer = (state = { products: [] }, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_LIST_USER_REQUEST:\r\n            return { loading: true, products: [] }\r\n        case PRODUCT_LIST_USER_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                products: action.payload.products,\r\n                count: action.payload.count,\r\n                pages: action.payload.pages,\r\n                page: action.payload.page\r\n            }\r\n        case PRODUCT_LIST_USER_FAIL:\r\n            return { loading: false, error: action.payload }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// Fetch MY products\r\nexport const productListMyReducer = (state = { products: [] }, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_LIST_MY_REQUEST:\r\n            return { loading: true, products: [] }\r\n        case PRODUCT_LIST_MY_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                products: action.payload.products,\r\n                count: action.payload.count,\r\n                pages: action.payload.pages,\r\n                page: action.payload.page\r\n            }\r\n        case PRODUCT_LIST_MY_FAIL:\r\n            return { loading: false, error: action.payload }\r\n        case PRODUCT_LIST_MY_RESET:\r\n            return { products: [] }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const productCreateReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_CREATE_REQUEST:\r\n            return { loading: true }\r\n        case PRODUCT_CREATE_SUCCESS:\r\n            return { loading: false, success: true, product: action.payload }\r\n        case PRODUCT_CREATE_FAIL:\r\n            return { loading: false, error: action.payload }\r\n        case PRODUCT_CREATE_RESET:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const productUpdateReducer = (state = { product: {} }, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_UPDATE_REQUEST:\r\n            return { loading: true }\r\n        case PRODUCT_UPDATE_SUCCESS:\r\n            return { loading: false, success: true, product: action.payload }\r\n        case PRODUCT_UPDATE_FAIL:\r\n            return { loading: false, error: action.payload }\r\n        case PRODUCT_UPDATE_RESET:\r\n            return { product: {} }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const productDeleteReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_DELETE_REQUEST:\r\n            return { loading: true }\r\n        case PRODUCT_DELETE_SUCCESS:\r\n            return { loading: false, success: true }\r\n        case PRODUCT_DELETE_FAIL:\r\n            return { loading: false, error: action.payload }\r\n        case PRODUCT_DELETE_RESET:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const productAddFollowerReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_ADD_FOLLOWER_REQUEST:\r\n            return { loading: true }\r\n        case PRODUCT_ADD_FOLLOWER_SUCCESS:\r\n            return { loading: false, success: true }\r\n        case PRODUCT_ADD_FOLLOWER_FAIL:\r\n            return { loading: false, error: action.payload }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const productRemoveFollowerReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_REMOVE_FOLLOWER_REQUEST:\r\n            return { loading: true }\r\n        case PRODUCT_REMOVE_FOLLOWER_SUCCESS:\r\n            return { loading: false, success: true }\r\n        case PRODUCT_REMOVE_FOLLOWER_FAIL:\r\n            return { loading: false, error: action.payload }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n// Fetch favorite products from user\r\nexport const productListFavoriteReducer = (state = { products: [] }, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_LIST_FAVORITE_REQUEST:\r\n            return { loading: true, products: [] }\r\n        case PRODUCT_LIST_FAVORITE_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                products: action.payload.products,\r\n                count: action.payload.count,\r\n                pages: action.payload.pages,\r\n                page: action.payload.page\r\n            }\r\n        case PRODUCT_LIST_FAVORITE_FAIL:\r\n            return { loading: false, error: action.payload }\r\n        default:\r\n            return state\r\n    }\r\n}","import {\r\n    USER_DETAILS_FAIL, USER_DETAILS_REQUEST, USER_DETAILS_SUCCESS,\r\n    USER_LOGIN_FAIL, USER_LOGIN_REQUEST, USER_LOGIN_SUCCESS, USER_LOGOUT,\r\n    USER_REGISTER_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS,\r\n    USER_UPDATE_PROFILE_FAIL, USER_UPDATE_PROFILE_REQUEST, USER_UPDATE_PROFILE_RESET, USER_UPDATE_PROFILE_SUCCESS,\r\n    USER_PROFILE_REQUEST, USER_PROFILE_SUCCESS, USER_PROFILE_FAIL, USER_PROFILE_RESET\r\n} from \"../constants/userConstants\"\r\n\r\nexport const userLoginReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case USER_LOGIN_REQUEST:\r\n            return { loading: true }\r\n        case USER_LOGIN_SUCCESS:\r\n            return { loading: false, userInfo: action.payload }\r\n        case USER_LOGIN_FAIL:\r\n            return { loading: false, error: action.payload }\r\n        case USER_LOGOUT:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const userRegisterReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case USER_REGISTER_REQUEST:\r\n            return { loading: true }\r\n        case USER_REGISTER_SUCCESS:\r\n            return { loading: false, userInfo: action.payload }\r\n        case USER_REGISTER_FAIL:\r\n            return { loading: false, error: action.payload }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const userDetailsReducer = (state = { user: {} }, action) => {\r\n\r\n    switch (action.type) {\r\n        case USER_DETAILS_REQUEST:\r\n            return { loading: true, ...state }\r\n        case USER_DETAILS_SUCCESS:\r\n            return { loading: false, user: action.payload }\r\n        case USER_DETAILS_FAIL:\r\n            return { loading: false, error: action.payload }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const userProfileReducer = (state = { user: {} }, action) => {\r\n    switch (action.type) {\r\n        case USER_PROFILE_REQUEST:\r\n            return { loading: true }\r\n        case USER_PROFILE_SUCCESS:\r\n            return { loading: false, success: true, user: action.payload }\r\n        case USER_PROFILE_FAIL:\r\n            return { loading: false, error: action.payload }\r\n        case USER_PROFILE_RESET:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const userUpdateProfileReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case USER_UPDATE_PROFILE_REQUEST:\r\n            return { loading: true }\r\n        case USER_UPDATE_PROFILE_SUCCESS:\r\n            return { loading: false, success: true, userInfo: action.payload }\r\n        case USER_UPDATE_PROFILE_FAIL:\r\n            return { loading: false, error: action.payload }\r\n        case USER_UPDATE_PROFILE_RESET:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}","import axios from 'axios'\r\nimport { PRODUCT_LIST_MY_RESET } from '../constants/productConstants'\r\nimport {\r\n    USER_DETAILS_FAIL, USER_DETAILS_REQUEST, USER_DETAILS_SUCCESS,\r\n    USER_LOGIN_FAIL, USER_LOGIN_REQUEST, USER_LOGIN_SUCCESS, USER_LOGOUT,\r\n    USER_PROFILE_FAIL, USER_PROFILE_REQUEST, USER_PROFILE_RESET, USER_PROFILE_SUCCESS,\r\n    USER_REGISTER_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS,\r\n    USER_UPDATE_PROFILE_FAIL, USER_UPDATE_PROFILE_REQUEST, USER_UPDATE_PROFILE_SUCCESS\r\n} from '../constants/userConstants'\r\n\r\n// @ Login user \r\nexport const login = (email, password) => async (dispatch) => {\r\n    try {\r\n        dispatch({\r\n            type: USER_LOGIN_REQUEST\r\n        })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.post('/api/users/login',\r\n            { email, password },\r\n            config)\r\n\r\n        dispatch({\r\n            type: USER_LOGIN_SUCCESS,\r\n            payload: data,\r\n        })\r\n\r\n        // Set user to local storage\r\n        localStorage.setItem('userInfo', JSON.stringify(data))\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: USER_LOGIN_FAIL,\r\n            payload: error.response && error.response.data.message\r\n                ? error.response.data.message : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n// @ Logout user\r\nexport const logout = () => (dispatch) => {\r\n    // Remove user from local storage\r\n    localStorage.removeItem('userInfo')\r\n    dispatch({ type: USER_LOGOUT })\r\n    dispatch({ type: USER_PROFILE_RESET })\r\n    dispatch({ type: PRODUCT_LIST_MY_RESET })\r\n}\r\n\r\n// @ Register user\r\nexport const register = (user) => async (dispatch) => {\r\n    try {\r\n        dispatch({\r\n            type: USER_REGISTER_REQUEST\r\n        })\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.post('/api/users',\r\n            user,\r\n            config)\r\n\r\n        dispatch({\r\n            type: USER_REGISTER_SUCCESS,\r\n            payload: data,\r\n        })\r\n\r\n        // Also login user after registration\r\n        dispatch({\r\n            type: USER_LOGIN_SUCCESS,\r\n            payload: data,\r\n        })\r\n\r\n        // Set user to local storage\r\n        localStorage.setItem('userInfo', JSON.stringify(data))\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: USER_REGISTER_FAIL,\r\n            payload: error.response && error.response.data.message\r\n                ? error.response.data.message : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n// @ List user with id details\r\nexport const listUserDetails = (id) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: USER_DETAILS_REQUEST })\r\n\r\n        const { data } = await axios.get(`/api/users/${id}`)\r\n\r\n        dispatch({ type: USER_DETAILS_SUCCESS, payload: data })\r\n\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: USER_DETAILS_FAIL,\r\n            payload: error.response && error.response.data.message\r\n                ? error.response.data.message : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n// @ Fetch my user profile\r\nexport const getUserProfile = () => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: USER_PROFILE_REQUEST,\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.get(`/api/users/profile`, config)\r\n\r\n        dispatch({\r\n            type: USER_PROFILE_SUCCESS,\r\n            payload: data,\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: USER_PROFILE_FAIL,\r\n            payload: error.response && error.response.data.message\r\n                ? error.response.data.message : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n// @ Update my user profile\r\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: USER_UPDATE_PROFILE_REQUEST,\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.put(`/api/users/profile`, user, config)\r\n\r\n        dispatch({\r\n            type: USER_UPDATE_PROFILE_SUCCESS,\r\n            payload: data,\r\n        })\r\n\r\n        // Change user name in navbar\r\n        dispatch({\r\n            type: USER_LOGIN_SUCCESS,\r\n            payload: data,\r\n        })\r\n\r\n        localStorage.setItem('userInfo', JSON.stringify(data))\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: USER_UPDATE_PROFILE_FAIL,\r\n            payload: error.response && error.response.data.message\r\n                ? error.response.data.message : error.message,\r\n        })\r\n    }\r\n}","import React, { useState } from 'react'\r\nimport { Form, Row, Col } from 'react-bootstrap'\r\n\r\nconst SearchBox = ({ history }) => {\r\n    const [keyword, setKeyword] = useState('')\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n        if (keyword.trim()) {\r\n            history.push(`/search/${keyword}`)\r\n        } else {\r\n            history.push('/')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Form onSubmit={submitHandler} inline className='mt-1rem mr-2rem'>\r\n            <Row className='ml-sm-3 mlr-auto'>\r\n                <Col className='p-0 col-7'>\r\n                    <Form.Control type='text' name='q' placeholder='Vyhľadaj...'\r\n                        onChange={(e) => setKeyword(e.target.value)}\r\n                        className='search-box mr-sm-2' style={{ fontSize: '14px', width: 'inherit' }}></Form.Control>\r\n                </Col>\r\n                <Col className='p-0 ml-3 col-4'>\r\n                    <button type='submit' className='header-button'><i className=\"fas fa-search\"></i> Vyhľadať</button>\r\n                </Col>\r\n            </Row >\r\n        </Form >\r\n    )\r\n}\r\n\r\nexport default SearchBox\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { Route } from 'react-router-dom'\r\nimport { Navbar, Nav, Container, NavDropdown } from 'react-bootstrap'\r\nimport { logout } from '../actions/userActions'\r\nimport SearchBox from './SearchBox'\r\n\r\n// #3f51b5\r\n// https://bootsnipp.com/snippets/mMynR\r\nconst Header = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    const logoutHandler = () => {\r\n        // DISPATCH LOGOUT\r\n        dispatch(logout())\r\n    }\r\n\r\n    return (\r\n        <header>\r\n            <Navbar className='navbar-dark' fixed='top' expand=\"lg\" collapseOnSelect\r\n            style={{minHeight: '5rem', boxShadow:'none', backgroundColor: '#4460aa'}}\r\n            >\r\n                <Container>\r\n                    <LinkContainer to='/'>\r\n                        <Navbar.Brand>DP-2021</Navbar.Brand>\r\n                    </LinkContainer>\r\n\r\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Route render={({history}) => <SearchBox history={history}/>} />\r\n\r\n                        <Nav className=\"ml-auto\">\r\n                            {userInfo ? (\r\n                                <>\r\n                                    <LinkContainer to='/user/my/product/create'>\r\n                                        <Nav.Link className='header-link mr-3'> <i className=\"fas fa-plus mr-1\"></i> Pridaj produkt</Nav.Link>\r\n                                    </LinkContainer>\r\n                                    <LinkContainer to='/user/my/favorites'>\r\n                                        <Nav.Link className='header-link mr-3'> <i className=\"far fa-heart mr-1\"></i> Obľúbené</Nav.Link>\r\n                                    </LinkContainer>\r\n                                    <LinkContainer to={`/user/my/profile`}>\r\n                                        <Nav.Link className='header-link mr-3'> <i className=\"far fa-smile-beam mr-1\"></i> Môj Profil</Nav.Link>\r\n                                    </LinkContainer>\r\n                                    <NavDropdown className='header-link' title={userInfo.name} id='username'>\r\n                                        <NavDropdown.Item onClick={logoutHandler} style={{color: 'black'}}> <span className='header-link'> Odhlásiť sa </span></NavDropdown.Item>\r\n                                    </NavDropdown>\r\n                                </>\r\n                            ) : (\r\n                                <LinkContainer to='/login'>\r\n                                    <Nav.Link className='header-button pad-9px'><i className='fas fa-user mr-1' /> Prihlásiť sa</Nav.Link>\r\n                                </LinkContainer>\r\n                            )}\r\n\r\n                        </Nav>\r\n                    </Navbar.Collapse>\r\n                </Container>\r\n            </Navbar >\r\n        </header >\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport { Container, Row, Col } from 'react-bootstrap'\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer style={{ backgroundColor: '#4460aa', minHeight: '7rem', color: 'white' }}>\r\n            <Container >\r\n                <Row className='fs-14px py-4 px-3'>\r\n                    <Col className='col-md-4' style={{ lineHeight: '2rem' }}>\r\n                        <span className='text-uppercase'> Diplomová práca </span> <br/>\r\n                        <span className='fw-600'>Bc. Anna Skachová </span> <br/>\r\n\r\n                        <a href='https://github.com/SkaAnn/' style={{color: 'white'}}> \r\n                            <i className=\"fas fa-at fa-lg mr-1\"></i> skachova@stuba.sk\r\n                        </a> <br/>\r\n                        <a href='https://github.com/SkaAnn/' style={{color: 'white'}}>\r\n                            <i className=\"fab fa-github fa-lg  mr-1\"></i> SkaAnn\r\n                        </a>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n            <div className='text-center py-2' style={{ backgroundColor: 'rgb(51 74 136)'}}>\r\n                &copy; {new Date().getFullYear()}\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\nimport { Alert } from 'react-bootstrap'\r\n\r\nconst Message = ({ variant, children }) => {\r\n    return (\r\n        <Alert variant={variant}>\r\n            {children}\r\n        </Alert>\r\n    )\r\n}\r\n\r\nMessage.defaultProps = {\r\n    variant: 'danger',\r\n}\r\n\r\nexport default Message","import React from 'react'\r\nimport { Spinner } from 'react-bootstrap'\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <Spinner animation='border'\r\n            role='status'\r\n            style={{ width: '100px', height:'100px', margin:'auto', display:'block' }}>\r\n            <span className='sr-only'>Loading...</span>\r\n        </Spinner>\r\n    )\r\n}\r\n\r\nexport default Loader","import React, { useState, useEffect } from 'react'\r\nimport Select from 'react-select';\r\n\r\nconst SortPanel = ({ history, keyword, filter, prevProps }) => {\r\n    const [sortKey, setSortKey] = useState()\r\n    const [oldKeyword, setOldKeyword] = useState('')\r\n\r\n    const customStyles = {\r\n        control: base => ({\r\n            ...base,\r\n            height: 20,\r\n            minHeight: 35\r\n        })\r\n    };\r\n\r\n    const [state, setState] = useState({})\r\n\r\n    const handleChange = (selectedOption) => {\r\n        setState({ selectedOption });\r\n        setSortKey(selectedOption.value)\r\n        console.log(`Option selected:`, selectedOption);\r\n    };\r\n\r\n    const { selectedOption } = state;\r\n\r\n    const sortOptions = [\r\n        { label: 'najnovšie', value: 'time_asc' },\r\n        { label: 'najstaršie', value: 'time_desc' },\r\n        { label: 'najlacnejšie', value: 'price_asc' },\r\n        { label: 'najdrahšie', value: 'price_desc' },\r\n    ]\r\n\r\n    const componentDidUpdate = (prevProps) => {\r\n        console.log(\"porovnanie \", keyword, oldKeyword)\r\n        if (oldKeyword !== keyword) {//match.params.pageNumber) {\r\n            console.log(\"zmenil sa \", keyword, oldKeyword)\r\n            setOldKeyword(keyword)//match.params.pageNumber);\r\n            // vynulovat\r\n            setSortKey('')\r\n            setState({ selectedOption: '' })\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    useEffect(() => {\r\n        // console.log('OBNOVIL SA SORT PANEL')\r\n        // console.log('sortkey', sortKey)\r\n\r\n        const reload = componentDidUpdate(prevProps)\r\n\r\n        // console.log('upravit linku')\r\n        // console.log('sortkey', sortKey)\r\n\r\n        if (sortKey && !reload) {\r\n            console.log('som tu')\r\n            if (keyword || filter) {\r\n                let url = ''\r\n                if (sortKey === 'time_asc') {\r\n                    url += '/sort/time_asc'\r\n                    // history.push(`/sort/time_asc/search/${keyword}/page/1`)\r\n                } else {\r\n                    url += `/sort/${sortKey}`\r\n                    // history.push(`/sort/${sortKey}/search/${keyword}/page/1`)\r\n                }\r\n\r\n                if (keyword) url += `/search/${keyword}`\r\n\r\n                if (filter) url += `/filter/${filter}`\r\n\r\n                url += '/page/1'\r\n                history.push(url)\r\n\r\n            } else {\r\n                if (sortKey === 'time_asc') {\r\n                    history.push('/')\r\n                }\r\n                else {\r\n                    history.push(`/sort/${sortKey}`)\r\n                }\r\n            }\r\n        }\r\n\r\n    }, [sortKey, keyword])\r\n\r\n\r\n    return (\r\n        <Select\r\n            value={selectedOption}\r\n            onChange={handleChange}\r\n            options={sortOptions}\r\n            placeholder={<span>Vyberte...</span>}\r\n            styles={customStyles}\r\n        />\r\n\r\n    )\r\n}\r\n\r\nexport default SortPanel","import React, { useState, useEffect } from 'react'\r\nimport { Form, Button, Row, Col } from 'react-bootstrap'\r\n\r\nconst FilterPanel = ({ history, keyword, sortKey }) => {\r\n    const [classification, setClassification] = useState({\r\n        'supply': true,\r\n        'demand': true,\r\n        'donor': true\r\n    })\r\n\r\n    const [condition, setCondition] = useState({\r\n        'new': true,\r\n        'used': true,\r\n        'handmade': true\r\n    })\r\n\r\n    useEffect(() => {\r\n        console.log('OBNOVIL SA FILTER PANEL')\r\n        // obnovit hodnoty vo filter panely\r\n        setClassification({ 'supply': true, 'demand': true, 'donor': true })\r\n        setCondition({ 'new': true, 'used': true, 'handmade': true })\r\n    }, [keyword])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n\r\n        let filterStr = \"\"\r\n        Object.keys(classification).map((keyName) => (\r\n            classification[keyName] ? filterStr += \"1\" : filterStr += \"0\"\r\n        ))\r\n        Object.keys(condition).map((keyName) => (\r\n            condition[keyName] ? filterStr += \"1\" : filterStr += \"0\"\r\n        ))\r\n\r\n        console.log(filterStr)\r\n\r\n        let url = ''\r\n\r\n        if (sortKey) {\r\n            url += `/sort/${sortKey}`\r\n        }\r\n\r\n        if (keyword) {\r\n            url += `/search/${keyword}`\r\n        }\r\n\r\n        if (filterStr !== '111111') {\r\n            url += `/filter/${filterStr}/page/1`\r\n            history.push(url)\r\n        } else {\r\n            url += '/page/1'\r\n            history.push(url)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Form onSubmit={submitHandler}>\r\n\r\n            <Form.Group as={Row} controlId=\"classificationBox\" className='mb-0' >\r\n                <Form.Label column sm=\"1\">Typ</Form.Label>\r\n                <Col sm=\"6\">\r\n                    <Form.Check inline type='checkbox' name='classification' checked={classification.supply}\r\n                        onChange={(e) => setClassification({ ...classification, supply: !classification.supply })}\r\n                        label=\"ponuka\" className='mr-3' />\r\n                    <Form.Check inline type='checkbox' name='classification' checked={classification.demand}\r\n                        onChange={(e) => setClassification({ ...classification, demand: !classification.demand })}\r\n                        label=\"dopyt\" className='mr-3' />\r\n                    <Form.Check inline type='checkbox' name='classification' checked={classification.donor}\r\n                        onChange={(e) => setClassification({ ...classification, donor: !classification.donor })}\r\n                        label=\"darujem\" />\r\n                    {/* </Form.Group> */}\r\n                </Col>\r\n            </Form.Group >\r\n\r\n            <Form.Group as={Row} controlId=\"conditionBox\" >\r\n                <Form.Label column sm=\"1\">Stav</Form.Label>\r\n                <Col sm=\"11\">\r\n                    <Form.Check inline type='checkbox' name='condition' checked={condition.new}\r\n                        onChange={(e) => setCondition({ ...condition, new: !condition.new })}\r\n                        label=\"nový tovar\" className='mr-3' />\r\n                    <Form.Check inline type='checkbox' name='condition' checked={condition.used}\r\n                        onChange={(e) => setCondition({ ...condition, used: !condition.used })}\r\n                        label=\"použitý tovar\" className='mr-3' />\r\n                    <Form.Check inline type='checkbox' name='condition' checked={condition.handmade}\r\n                        onChange={(e) => setCondition({ ...condition, handmade: !condition.handmade })}\r\n                        label=\"ručná výroba\" />\r\n                    {/* </Form.Group> */}\r\n                </Col>\r\n            </Form.Group>\r\n            {/* \r\n            <div>{JSON.stringify(classification)}</div>\r\n            <div>{JSON.stringify(condition)}</div> */}\r\n            <Button type='submit' variant='indigo' >Použiť filter!</Button>\r\n        </Form>\r\n\r\n    )\r\n}\r\n\r\nexport default FilterPanel","import React, { useState, useEffect } from 'react'\r\nimport { MDBContainer, MDBRow, MDBCol } from 'mdbreact'\r\nimport SortPanel from './SortPanel'\r\nimport FilterPanel from './FilterPanel'\r\n\r\nconst SecondHeader = ({ history, match, keyword }) => {\r\n    const [show, setShow] = useState(false)\r\n\r\n    // tu tahat z url hotnoty sortkey a filter\r\n    const sortKey = match.params.sortKey\r\n    const filter = match.params.filter\r\n\r\n    return (\r\n        // pohyblivy div -> vonkajsi div (farba2) -> vnutorny kontajner (farba1)\r\n        <div className=\"sticky-top\">\r\n            <div style={{ backgroundColor: 'rgb(51 74 136)', color: 'white' }}>\r\n                <MDBContainer className='py-2 mt-3'>\r\n                    <MDBRow className='my-auto' style={{ lineHeight: '2' }}>\r\n\r\n                        <MDBCol sm='9' md='8' className='my-auto'>\r\n                            <MDBRow>\r\n                                <MDBCol size='12' className='my-auto' onClick={(e) => setShow(!show)} style={{ cursor: 'pointer' }} >\r\n                                    <span className='text-uppercase fw-600 fs-15px'> Filtrovať </span>\r\n                                </MDBCol>\r\n\r\n                                <MDBCol size='12' className='my-auto'>\r\n                                    <div className={`py-3 ${show ? 'd-block' : 'd-none'}`} >\r\n                                        <FilterPanel history={history} keyword={keyword} sortKey={sortKey ? sortKey : ''} />\r\n                                    </div>\r\n                                </MDBCol>\r\n                            </MDBRow>\r\n                        </MDBCol>\r\n\r\n                        <MDBCol sm='3' md='4' >\r\n\r\n                            <MDBRow>\r\n                                <MDBCol lg='3' className='my-auto'><span className='text-uppercase fw-600 fs-15px'>Zoradiť </span></MDBCol>\r\n                                <MDBCol lg='9' className='fs-13px fw-500 text-uppercase' style={{color: 'black'}}>\r\n                                    <SortPanel history={history} keyword={keyword} filter={filter ? filter : ''} />\r\n                                </MDBCol>\r\n                            </MDBRow>\r\n\r\n                        </MDBCol>\r\n                    </MDBRow>\r\n\r\n                </MDBContainer>\r\n            </div>\r\n\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default SecondHeader","import React, { Component } from \"react\";\r\nimport Pagination from \"react-js-pagination\";\r\n\r\nclass MyPagination extends Component {\r\n  constructor(props) {\r\n    console.log('som tu v mypag construcitor')\r\n    super(props);\r\n    this.state = {\r\n      activePage: this.props.activePage || 1\r\n    };\r\n  }\r\n\r\n  handlePageChange(pageNumber) {\r\n    console.log('count ', this.props.totalItemsCount)\r\n    console.log(`active page is ${pageNumber}`);\r\n    this.setState({ activePage: pageNumber });\r\n\r\n    if (this.props.screen === 0) {\r\n      // 1 stvorica\r\n      if (this.props.sortKey && this.props.keyword && this.props.filter) { this.props.history.push(`/sort/${this.props.sortKey}/search/${this.props.keyword}/filter/${this.props.filter}/page/${pageNumber}`) }\r\n      // 3 trojice (tam kde je page)\r\n      else if (this.props.sortKey && this.props.keyword && !this.props.filter) { this.props.history.push(`/sort/${this.props.sortKey}/search/${this.props.keyword}/page/${pageNumber}`) }\r\n      else if (this.props.sortKey && !this.props.keyword && this.props.filter) { this.props.history.push(`/sort/${this.props.sortKey}/filter/${this.props.filter}/page/${pageNumber}`) }\r\n      else if (!this.props.sortKey && this.props.keyword && this.props.filter) { this.props.history.push(`/search/${this.props.keyword}/filter/${this.props.filter}/page/${pageNumber}`) }\r\n      // 3 dvojice (tam kde je page)\r\n      else if (this.props.sortKey && !this.props.keyword && !this.props.filter) { this.props.history.push(`/sort/${this.props.sortKey}/page/${pageNumber}`) }\r\n      else if (!this.props.sortKey && this.props.keyword && !this.props.filter) { this.props.history.push(`/search/${this.props.keyword}/page/${pageNumber}`) }\r\n      else if (!this.props.sortKey && !this.props.keyword && this.props.filter) { this.props.history.push(`/filter/${this.props.filter}/page/${pageNumber}`) }\r\n      // 1 jednoica\r\n      else { this.props.history.push(`/page/${pageNumber}`) }\r\n    }\r\n    if (this.props.screen === 1) { this.props.history.push(`/user/my/profile/page/${pageNumber}`) }\r\n    if (this.props.screen === 2) { this.props.history.push(`/user/my/favorites/${pageNumber}`) }\r\n    if (this.props.screen === 3) { this.props.history.push(`/products/user/${this.props.id}/${pageNumber}`) }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Pagination\r\n          activePage={this.state.activePage}\r\n          itemsCountPerPage={this.props.itemsCountPerPage}\r\n          totalItemsCount={this.props.totalItemsCount}\r\n          // pageRangeDisplayed= {5}\r\n          pageRangeDisplayed={3}  // množstvo zobrazených stránok na klikanie\r\n          onChange={this.handlePageChange.bind(this)}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyPagination","export const categoryOptions = [\r\n    { label: 'Oblečenie a obuv', value: 1 },\r\n    { label: 'Hračky a hry', value: 2 },\r\n    { label: 'Knihy', value: 3 },\r\n    { label: 'Nábytok a bývanie', value: 4 },\r\n    { label: 'Starožitnosti a zberateľstvo', value: 5 },\r\n    { label: 'Starostlivosť o zvieratá', value: 6 },\r\n    { label: 'Šport', value: 7 },\r\n    { label: 'Hudba', value: 8 },\r\n    { label: 'Dom a záhrada', value: 9 },\r\n    { label: 'Zdravie', value: 10 },\r\n    { label: 'Šperky a dekorácie', value: 11 },\r\n    { label: 'Mobily a tablety', value: 12 },\r\n    { label: 'Počítače a TV', value: 13 },\r\n    { label: 'Elektro', value: 14 },\r\n    { label: 'Ostatné', value: 15 },\r\n].sort((a, b) => {\r\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\r\n    const nameA = a.label.toUpperCase(); \r\n    const nameB = b.label.toUpperCase(); \r\n    if (nameA < nameB) { return -1; }\r\n    if (nameA > nameB) { return 1; }\r\n    return 0;   // names must be equal\r\n})","import { categoryOptions } from './options'\r\n\r\nexport const triangleColor = (condition) => {\r\n    switch (condition) {\r\n        case \"new\":\r\n            return '#00c851'\r\n        case \"used\":\r\n            return '#4285f4'\r\n        case \"handmade\":\r\n            return '#ffc107'\r\n        default:\r\n            return 'gray'\r\n    }\r\n}\r\n\r\nexport const translateClassification = (classification) => {\r\n    switch (classification) {\r\n        case 'supply':\r\n            return 'ponuka'\r\n        case 'demand':\r\n            return 'dopyt'\r\n        case 'donor':\r\n            return 'darujem'\r\n        default:\r\n            return ''\r\n    }\r\n}\r\n\r\nexport const getCategoryName = (val) => {\r\n    let name = ''\r\n    categoryOptions.map((opt) => (\r\n        val === opt.value && (name = opt.label)\r\n    ))\r\n    return name\r\n}\r\n\r\nexport const translateCondition = (condition) => {\r\n    switch (condition) {\r\n        case \"new\":\r\n            return 'nový'\r\n        case \"used\":\r\n            return 'používané'\r\n        case \"handmade\":\r\n            return 'vlastná výroba' // RUČNÁ\r\n        default:\r\n            return ''\r\n    }\r\n}","import axios from 'axios'\r\nimport {\r\n    PRODUCT_CREATE_FAIL, PRODUCT_CREATE_REQUEST, PRODUCT_CREATE_SUCCESS,\r\n    PRODUCT_DETAILS_FAIL, PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_SUCCESS,\r\n    PRODUCT_LIST_FAIL, PRODUCT_LIST_REQUEST, PRODUCT_LIST_SUCCESS,\r\n    PRODUCT_LIST_MY_FAIL, PRODUCT_LIST_MY_REQUEST, PRODUCT_LIST_MY_SUCCESS,\r\n    PRODUCT_LIST_USER_FAIL, PRODUCT_LIST_USER_REQUEST, PRODUCT_LIST_USER_SUCCESS,\r\n    PRODUCT_UPDATE_FAIL, PRODUCT_UPDATE_REQUEST, PRODUCT_UPDATE_SUCCESS,\r\n    PRODUCT_DELETE_SUCCESS, PRODUCT_DELETE_REQUEST, PRODUCT_DELETE_FAIL,\r\n    PRODUCT_ADD_FOLLOWER_REQUEST, PRODUCT_ADD_FOLLOWER_SUCCESS, PRODUCT_ADD_FOLLOWER_FAIL,\r\n    PRODUCT_REMOVE_FOLLOWER_REQUEST, PRODUCT_REMOVE_FOLLOWER_SUCCESS, PRODUCT_REMOVE_FOLLOWER_FAIL,\r\n    PRODUCT_LIST_FAVORITE_FAIL, PRODUCT_LIST_FAVORITE_SUCCESS, PRODUCT_LIST_FAVORITE_REQUEST,\r\n}\r\n    from '../constants/productConstants'\r\n\r\n// @ Fetching all products\r\nexport const listProducts = (sortKey = '', keyword = '', filter = '111111', pageNumber = '', pageSize = '') => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: PRODUCT_LIST_REQUEST })\r\n\r\n        console.log(`GET /api/products?sortKey=${sortKey}&pageNumber=${pageNumber}&pageSize=${pageSize}`)\r\n        const { data } = await axios.get(`/api/products?sortKey=${sortKey}&keyword=${keyword}&filter=${filter}&pageNumber=${pageNumber}&pageSize=${pageSize}`)\r\n\r\n        dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: PRODUCT_LIST_FAIL,\r\n            payload: error.response && error.response.data.message\r\n                ? error.response.data.message : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n// @ List product details\r\nexport const listProductDetails = (id) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: PRODUCT_DETAILS_REQUEST })\r\n\r\n        const { data } = await axios.get(`/api/products/${id}`)\r\n\r\n        dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data })\r\n\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: PRODUCT_DETAILS_FAIL,\r\n            payload: error.response && error.response.data.message\r\n                ? error.response.data.message : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n// @ Fetching products by user\r\nexport const listUserProducts = (id, pageNumber = '', pageSize = '') => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: PRODUCT_LIST_USER_REQUEST })\r\n\r\n        const { data } = await axios.get(`/api/products/user/${id}?pageNumber=${pageNumber}&pageSize=${pageSize}`)\r\n\r\n        dispatch({ type: PRODUCT_LIST_USER_SUCCESS, payload: data })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: PRODUCT_LIST_USER_FAIL,\r\n            payload: error.response && error.response.data.message\r\n                ? error.response.data.message : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n// @ Fetching MY products\r\nexport const listMyProducts = (pageNumber = '', pageSize = '') => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: PRODUCT_LIST_MY_REQUEST,\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.get(`/api/products/my?pageNumber=${pageNumber}&pageSize=${pageSize}`, config)\r\n\r\n        dispatch({\r\n            type: PRODUCT_LIST_MY_SUCCESS,\r\n            payload: data\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: PRODUCT_LIST_MY_FAIL,\r\n            payload: error.response && error.response.data.message\r\n                ? error.response.data.message : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n// @ Create new product\r\nexport const createProduct = (product) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: PRODUCT_CREATE_REQUEST,\r\n        })\r\n\r\n        // Get userInfo from userLogin\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        console.log(config)\r\n        console.log(JSON.stringify(product))\r\n\r\n        const { data } = await axios.post(`/api/products`, product, config)\r\n\r\n        dispatch({\r\n            type: PRODUCT_CREATE_SUCCESS,\r\n            payload: data\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: PRODUCT_CREATE_FAIL,\r\n            payload: error.response && error.response.data.message\r\n                ? error.response.data.message : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n// @ Update existing product\r\nexport const updateProduct = (product) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: PRODUCT_UPDATE_REQUEST,\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.put(`/api/products/${product._id}`, product, config)\r\n\r\n        dispatch({\r\n            type: PRODUCT_UPDATE_SUCCESS,\r\n            payload: data\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: PRODUCT_UPDATE_FAIL,\r\n            payload: error.response && error.response.data.message\r\n                ? error.response.data.message : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n// @ Delete product\r\nexport const deleteProduct = (id) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: PRODUCT_DELETE_REQUEST,\r\n        })\r\n\r\n\r\n        // destructing, miesto bodkovej notacie\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        await axios.delete(`/api/products/${id}`, config)\r\n\r\n        dispatch({\r\n            type: PRODUCT_DELETE_SUCCESS,\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: PRODUCT_DELETE_FAIL,\r\n            payload: error.response && error.response.data.message\r\n                ? error.response.data.message : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n// @ Add follower to product \r\nexport const followProduct = (id) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: PRODUCT_ADD_FOLLOWER_REQUEST,\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        await axios.post(`/api/products/${id}/follow`, {}, config)\r\n\r\n        dispatch({\r\n            type: PRODUCT_ADD_FOLLOWER_SUCCESS,\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: PRODUCT_ADD_FOLLOWER_FAIL,\r\n            payload: error.response && error.response.data.message\r\n                ? error.response.data.message : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n// @ Remove follower of product \r\nexport const unfollowProduct = (id) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: PRODUCT_REMOVE_FOLLOWER_REQUEST,\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        await axios.put(`/api/products/${id}/follow`, {}, config)\r\n\r\n        dispatch({\r\n            type: PRODUCT_REMOVE_FOLLOWER_SUCCESS,\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: PRODUCT_REMOVE_FOLLOWER_FAIL,\r\n            payload: error.response && error.response.data.message\r\n                ? error.response.data.message : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n// @ Fetching my favorite products\r\nexport const listFavoriteProducts = (pageNumber = '', pageSize = '') => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: PRODUCT_LIST_FAVORITE_REQUEST,\r\n        })\r\n\r\n        const { userLogin: { userInfo } } = getState()\r\n\r\n        const config = {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.get(`/api/products/favorite?pageNumber=${pageNumber}&pageSize=${pageSize}`, config)\r\n\r\n        dispatch({\r\n            type: PRODUCT_LIST_FAVORITE_SUCCESS,\r\n            payload: data\r\n        })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: PRODUCT_LIST_FAVORITE_FAIL,\r\n            payload: error.response && error.response.data.message\r\n                ? error.response.data.message : error.message,\r\n        })\r\n    }\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport {\r\n    MDBRow, MDBCol, MDBCard, MDBCardBody, MDBCardImage,\r\n    MDBCardTitle, MDBCardHeader, MDBCardFooter, MDBView, MDBMask\r\n} from 'mdbreact';\r\nimport { triangleColor, translateClassification } from '../utils/translate'\r\nimport { followProduct, unfollowProduct } from '../actions/productActions'\r\n\r\nconst ProductCard = ({ product }) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const [isFavorite, setIsFavorite] = useState(false)\r\n    const [onLoad, setOnLoad] = useState(true)\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { loading, error, userInfo } = userLogin\r\n\r\n    useEffect(() => {\r\n        if (userInfo && onLoad) {\r\n            // zisti ci ma produkt medzi oblubenymi\r\n            const isFollower = product.followers.some(item => userInfo._id.toString() === item.toString());\r\n            console.log('Is follower: ', isFollower)\r\n            if (isFollower) setIsFavorite(true)\r\n            setOnLoad(false)\r\n            console.log('onLoad ', onLoad)\r\n        }\r\n\r\n        // if (isFavorite && !onLoad) {\r\n        //     console.log('Pridaj medzi oblubene')\r\n        // } else {\r\n        //     console.log('Odober z oblubenych')\r\n        // }\r\n    }, [])\r\n\r\n    const addOrRemoveHandler = async (e) => {\r\n        e.preventDefault()\r\n        if (userInfo) {\r\n            console.log(isFavorite)\r\n            await setIsFavorite(!isFavorite)\r\n            console.log(isFavorite)\r\n            if (isFavorite) {\r\n                console.log('odober z oblubenych')\r\n                dispatch(unfollowProduct(product._id))\r\n\r\n            } else {\r\n                console.log('pridaj medzi oblubene')\r\n                dispatch(followProduct(product._id))\r\n            }\r\n        } // else redirect to /login\r\n    }\r\n\r\n    return (\r\n\r\n        // border: 5px solid rgba(0,0,0,.125)\r\n        // box-shadow: 0 2px 5px 0 rgb(0 0 0 / 16%), 0 2px 10px 0 rgb(0 0 0 / 12%)\r\n        <MDBCard style={{ width: \"16rem\"}} className='mx-auto my-3'>\r\n\r\n\r\n            <MDBView className='view-background'>\r\n                {/* <LinkContainer to={`/product/${product._id}`}> */}\r\n                <img\r\n                    // src=\"https://mdbootstrap.com/img/Others/documentation/img%20(131)-mini.jpg\"\r\n                    src={product.images.length !== 0 ? product.images[0] : '/images/bez-fotky.jpg'}\r\n                    className=\"mx-auto img-fluid\"\r\n                    alt={product.name}\r\n                    style={{ minHeight: '12rem', maxHeight: '12rem' }}\r\n                />\r\n\r\n                <MDBMask\r\n                    // pattern={1}\r\n                    className=\"flex-top mt-2 px-3\">\r\n                    <span className=\"badge text-uppercase\" style={{backgroundColor: '#6d85c5'}}>{translateClassification(product.classification)}</span>\r\n\r\n                    {/* <span style={{ float: 'right', zIndex: '100' }} onClick={addOrRemoveHandler} className='card-wrapper'>\r\n                            {isFavorite ?\r\n                                <i className=\"fas fa-heart fa-lg\"></i>\r\n                                : <i className=\"far fa-heart fa-lg\"></i>}\r\n                        </span> */}\r\n                </MDBMask>\r\n                <MDBMask\r\n                    // pattern={1}\r\n                    className=\"flex\">\r\n                    <div className=\"fixed-right-bottom triangle\" style={{ borderColor: ` transparent transparent ${triangleColor(product.condition)}  transparent` }} >\r\n                        {/* <span className='text-uppercase' style={{ zIndex: '2' }}>Novy</span> */}\r\n                    </div>\r\n                </MDBMask>\r\n            </MDBView>\r\n\r\n            <span style={{ zIndex: '100' }} onClick={addOrRemoveHandler} className='fixed-right-top curs-pointer mt-2 px-3'>\r\n                {isFavorite && userInfo ?\r\n                    <i className=\"fas fa-heart fa-lg\" style={{color: '#ff6b78'}}></i>\r\n                    : <i className=\"far fa-heart fa-lg\" style={{color: '#ff6b78'}}></i>}\r\n            </span>\r\n\r\n\r\n            <MDBCardBody className='card-pad'>\r\n                <Link to={`/product/${product._id}`}>\r\n                    <MDBCardTitle className='text-truncate mb-1' style={{ fontSize: '18px', color: '#3f599e' }}>{product.name}</MDBCardTitle>\r\n                </Link>\r\n                <div className='mb-1' style={{ fontSize: '20px' }}><strong>{product.price !== 0 ? `${product.price}€` : product.classification === 'donor' ? 'Zadarmo' : 'Dohodou'}</strong></div>\r\n                <Link to={`/products/user/${product.user._id}`}>\r\n                    <div className='text-muted' style={{ fontSize: '14px' }}>{product.user.name}</div>\r\n                </Link>\r\n            </MDBCardBody>\r\n        </MDBCard>\r\n    )\r\n}\r\n\r\nexport default ProductCard;","import React, { useEffect } from 'react'\r\nimport { Route} from 'react-router-dom'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { Container, Row, Col } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport SecondHeader from '../components/SecondHeader'\r\nimport MyPagination from '../components/MyPagination'\r\nimport ProductCard from '../components/ProductCard'\r\n\r\nimport { listProducts } from '../actions/productActions'\r\n\r\n\r\nconst HomeScreen = ({ match }) => {\r\n    const pageSize = 8\r\n    const keyword = match.params.keyword\r\n    console.log('homescreen - keyword ', keyword)\r\n    const sortKey = match.params.sortKey\r\n    const filter = match.params.filter\r\n\r\n    const pageNumber = match.params.pageNumber || 1\r\n\r\n    const dispatch = useDispatch()  // call and manage an actions\r\n\r\n    // Global states\r\n    const productList = useSelector(state => state.productList)     // get global state (from store.js)\r\n    const { loading, error, products, count, pages, page } = productList                // parts of global state productList (parts as in reducer)\r\n\r\n    // Do something when screen loads\r\n\r\n    useEffect(() => {\r\n        // @GET all products from db\r\n        // FIRE OFF the action listProducts action\r\n        dispatch(listProducts(sortKey, keyword, filter, pageNumber, pageSize))\r\n    }, [dispatch, sortKey, keyword, filter, pageNumber])\r\n\r\n    return (\r\n        <>\r\n\r\n            <Route render={({ history, match }) => <SecondHeader history={history} match={match} keyword={keyword ? keyword : ''} />} />\r\n\r\n            <Container className='mt-3'>\r\n                {/* <Route render={({ history }) => <SortPanel history={history} keyword={keyword ? keyword : ''} />} /> */}\r\n                {!keyword ?\r\n                    <h2 className='mb-3 pt-3 fw-600'>Všetky produkty</h2>\r\n                    : <>\r\n                        <LinkContainer to='/' >\r\n                            <h6 className='pt-3 fw-600 curs-pointer'><i className=\"fas fa-arrow-left\"></i> Späť</h6>\r\n                        </LinkContainer>\r\n                        <h2 className='mb-3 pt-3 fw-400'>Výsledky hľadania slova \"<strong>{keyword}</strong>\"</h2>\r\n                    </>}\r\n                {loading ? (<Loader />)\r\n                    : error ? (<Message>{error}</Message>)\r\n                        :\r\n                        (\r\n                            <>\r\n                                {products.length === 0 && <div style={{ maxWidth: '40rem' }}><Message>Nenašli sa žiadne produkty</Message></div>}\r\n                                <Row>\r\n                                    {products.map(product => (\r\n                                        <Col key={product._id} sm={12} md={6} lg={4} xl={3}>\r\n                                            <ProductCard key={product._id} product={product} />\r\n                                        </Col>))}\r\n                                </Row>\r\n                                <Route render={({ history }) =>\r\n                                    <MyPagination itemsCountPerPage={pageSize} totalItemsCount={count} activePage={page}\r\n                                        history={history} screen={0} sortKey={sortKey ? sortKey : ''} keyword={keyword ? keyword : ''} filter={filter ? filter : ''} />} />\r\n\r\n                            </>\r\n                        )}\r\n            </Container>\r\n        </>)\r\n}\r\n\r\nexport default HomeScreen\r\n","import React from 'react'\r\nimport { Container, Row, Col } from 'react-bootstrap'\r\n\r\nconst FormContainerSmall = ({ children, myHeight}) => {\r\n    return (\r\n        <Container>\r\n            <Row className='justify-content-md-center'>\r\n                <Col xs={11} sm={11} md={7} lg={5} xl={5} className='m-auto p-4 card-style'\r\n                    style={{ height: `${myHeight}`, position: 'relative' }} >\r\n                    {children}\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default FormContainerSmall\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Form, Button, Row, Col, Container } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport { login } from '../actions/userActions'\r\nimport FormContainerSmall from '../components/FormContainerSmall'\r\n\r\nconst LoginScreen = ({ location, history }) => {\r\n    // Component level state\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    // Application (Global) level state\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { loading, error, userInfo } = userLogin  // from userLoginReducer in store.js\r\n\r\n    const redirect = location.search ? location.search.split('=')[1] : '/'   // URL query string\r\n\r\n    useEffect(() => {\r\n        // redirect when we are sign in\r\n        if (userInfo) {\r\n            history.push(redirect)\r\n        }\r\n    }, [history, userInfo, redirect])\r\n\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n        // DISPATCH LOGIN ACTION\r\n        dispatch(login(email, password))   // login from userActions.js\r\n    }\r\n\r\n    return (\r\n        <Container className='mt-5rem'>\r\n        <FormContainerSmall myHeight='30rem'>\r\n            <div className='mid-align'>\r\n                <h2 className='text-uppercase fw-500 text-center mb-3'>Prihlásenie</h2>\r\n                {error && <Message>{error}</Message>}\r\n                {loading && <Loader />}\r\n                <Form onSubmit={submitHandler} className='form-pad'>\r\n\r\n                    <Form.Group controlId='email'>\r\n                        {/* <Form.Label>Email</Form.Label> */}\r\n                        <Form.Control type='email' className=\"mainLoginInput login-control\" placeholder=\"&#x40; EMAIL\" value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            style={{ marginBottom: '2rem' }}></Form.Control>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId='password'>\r\n                        {/* <Form.Label>Heslo</Form.Label> */}\r\n                        <Form.Control type='password' className=\"mainLoginInput login-control\" placeholder=\"&#61475;  HESLO\" value={password}\r\n                            onChange={(e) => setPassword(e.target.value)} ></Form.Control>\r\n                    </Form.Group>\r\n                    {/* <Button  variant='primary'>Prihlásiť!</Button> */}\r\n                    <button type='submit' className='my-btn-big my-3 text-uppercase' style={{ width: '100%' }}> Prihlásiť! </button>\r\n                </Form>\r\n                <Row className='pb-3 pt-2'>\r\n                    <Col className='text-center fs-14px'> Ešte nemáte konto? <Link to={redirect ? `/register?redirect=${redirect}` : '/register'}>Zaregistrujte sa u nás!</Link></Col>\r\n                </Row>\r\n            </div>\r\n        </FormContainerSmall>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default LoginScreen\r\n","import React from 'react'\r\nimport { Image, ListGroup, Row, Col } from 'react-bootstrap'\r\n\r\nconst UserInfoPanel = ({ user }) => {\r\n    return (\r\n\r\n        <ListGroup variant='flush'>\r\n            <ListGroup.Item key='1' className='text-center' style={{backgroundColor: 'pink', padding: '30px'}}>\r\n                {/* <Image src={user.profileImage} roundedCircle fluid\r\n                    style={{ maxHeight: '130px' }} className='mx-auto' /> */}\r\n                    <img src={user.profileImage}  className='profile-pic mx-auto' />\r\n            </ListGroup.Item>\r\n            <ListGroup.Item key='2'>\r\n                <Row className='fs-14px lh-2'>\r\n                    {/* name a locality povinne */}\r\n                    <Col className='col-12'> <i className=\"far fa-id-card fa-fw mr-1\"></i> <strong> {user.name} </strong> </Col>\r\n                    <Col className='col-12'> <i className=\"fas fa-at fa-fw mr-1\"></i> {user.email} </Col>\r\n                    <Col className='col-12'> <i className=\"fas fa-mobile fa-fw mr-1\"></i> {user.phoneNumber} </Col>\r\n                    <Col className='col-12'> <i className=\"fas fa-map-marker-alt fa-fw mr-1\"></i> {user.locality} </Col>\r\n                </Row>\r\n            </ListGroup.Item>\r\n            <ListGroup.Item key='4'>\r\n                <h6 className='fw-600'>Niečo o mne</h6>\r\n                <div className='fs-13px text-justify'>{user.profileInfo} </div>\r\n            </ListGroup.Item>\r\n            <ListGroup.Item key='5'>\r\n                <h6 className='fw-600'>Podmienky</h6>\r\n                <div className='fs-13px text-justify'>{user.marketPolicy} </div>\r\n            </ListGroup.Item>\r\n        </ListGroup>\r\n    )\r\n}\r\n\r\nexport default UserInfoPanel\r\n","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Container, Row, Col } from 'react-bootstrap'\r\nimport { Route } from 'react-router-dom'\r\n\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport UserInfoPanel from '../components/UserInfoPanel'\r\nimport ProductCard from '../components/ProductCard'\r\nimport MyPagination from '../components/MyPagination'\r\n\r\nimport { listUserProducts } from '../actions/productActions'\r\nimport { listUserDetails } from '../actions/userActions'\r\n\r\nconst UserProductsScreen = ({ match }) => {\r\n    const pageSize = 2 // TODO 10\r\n    const pageNumber = match.params.pageNumber || 1\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const userDetails = useSelector(state => state.userDetails)\r\n    const { loading, error, user } = userDetails\r\n\r\n    const productListUser = useSelector(state => state.productListUser)     // get global state (from store.js)\r\n    const { loading: loadingProducts, error: errorProducts, products, count, pages, page } = productListUser\r\n\r\n    useEffect(() => {\r\n        // DISPATCH USER DETAILS\r\n        dispatch(listUserDetails(match.params.id))\r\n        // DISPATCH USER PRODUCTS\r\n        dispatch(listUserProducts(match.params.id, pageNumber, pageSize))\r\n    }, [dispatch, match.params.id, pageNumber])\r\n\r\n    return (\r\n        <Container className='mt-5rem'>\r\n            <Row>\r\n                <Col lg={3}>\r\n\r\n\r\n                    {loading ? <Loader />\r\n                        : error ? <Message>{error}</Message>\r\n                            : user && (\r\n                                <>\r\n                                    <h4 className='fw-400 text-center lh-15'><span className='text-uppercase'>Profil užívateľa </span>\r\n                                        {/* <br /> <span className='fw-600'> {user.name} </span> */}\r\n                                    </h4>\r\n                                    <div style={{ border: '0', boxShadow: '0 2px 5px 0 rgb(0 0 0 / 16%), 0 2px 10px 0 rgb(0 0 0 / 12%)' }}>\r\n                                        <UserInfoPanel user={user} />\r\n                                    </div>\r\n                                </>\r\n                                // <>\r\n                                //     <p>{user._id}</p>\r\n                                //     <p>{user.name}</p>\r\n                                //     <p>{user.email}</p>\r\n                                // </>\r\n\r\n                            )}\r\n                </Col>\r\n                <Col lg={9}>\r\n                    {loadingProducts ? <Loader />\r\n                        : errorProducts ? <Message>{error}</Message>\r\n                            : (\r\n                                <>\r\n                                    <h2 className='text-uppercase fw-400 mb-2'>Produkty</h2>\r\n                                    <Row>\r\n                                        {products.map(product => (\r\n                                            <Col key={product._id} lg={4} md={6}>\r\n                                                <ProductCard key={product._id} product={product} />\r\n                                            </Col>))}\r\n                                    </Row>\r\n                                    <Route render={({ history }) => <MyPagination itemsCountPerPage={pageSize} totalItemsCount={count} activePage={page} history={history} screen={3} id={match.params.id} />} />\r\n                                </>\r\n                            )}\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default UserProductsScreen\r\n","import React from 'react';\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { Carousel } from 'react-responsive-carousel';\r\n\r\n// https://www.npmjs.com/package/react-responsive-carousel\r\nconst ImageCarousel = ({ images }) => {\r\n    return (\r\n        <Carousel>\r\n\r\n            {(images && images.length !== 0) ?\r\n\r\n                images.map((url) => (\r\n                    <div className='carousel-div-size' key={url} style={{ backgroundColor: 'gainsboro' }}>\r\n\r\n                        <img className='img-fluid carousel-center-img carousel-img-size' src={url} alt={url} />\r\n                        {/* <p className=\"legend\">{url}</p> */}\r\n                    </div>\r\n                ))\r\n                : <div className='carousel-div-size' style={{ backgroundColor: 'gainsboro' }}>\r\n                    <img className='img-fluid carousel-center-img carousel-img-size' src={'/images/bez-fotky.jpg'} alt={'no-photo'} />\r\n                </div>\r\n            }\r\n\r\n        </Carousel>\r\n    );\r\n\r\n}\r\n\r\nexport default ImageCarousel\r\n\r\n","export const env = {\r\n    REACT_APP_EMAILJS_RECEIVER: 'askachova@gmail.com',\r\n    REACT_APP_EMAILJS_TEMPLATEID: 'template_rrzhkch',\r\n    REACT_APP_EMAILJS_USERID: 'user_xKkcuC4c6svmpB28u7g3H'\r\n};","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Container, Row, Col, Button, Form } from 'react-bootstrap'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport { listProductDetails } from '../actions/productActions'\r\nimport ImageCarousel from '../components/ImageCarousel'\r\nimport FeedbackForm from '../components/FeedbackForm'\r\nimport { env } from '../config'\r\nimport { MDBContainer, MDBTabPane, MDBTabContent, MDBNav, MDBNavItem, MDBNavLink } from \"mdbreact\";\r\nimport { Table } from 'react-bootstrap'\r\nimport { translateClassification, translateCondition } from '../utils/translate'\r\n\r\nconst ProductScreen = ({ match }) => {\r\n    const dispatch = useDispatch()\r\n    const productId = match.params.id\r\n\r\n    const [activeItem, setActiveItem] = useState('1');\r\n    const toggle = tab => e => {\r\n        if (activeItem !== tab) {\r\n            setActiveItem(tab);\r\n        }\r\n    };\r\n\r\n    const [show, setShow] = useState(false)\r\n    const [feedback, setFeedback] = useState('')\r\n\r\n    const [formSubmitted, setFormSubmitted] = useState(false);\r\n    const [formSubmitSuccessful, setFormSubmitSuccessful] = useState(false);\r\n\r\n    const productDetails = useSelector(state => state.productDetails)\r\n    const { loading, error, product } = productDetails\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    useEffect(() => {\r\n        console.log('dispatch ProductScreen')\r\n        if (!product || !product.name) {\r\n            dispatch(listProductDetails(productId))\r\n        } else {\r\n\r\n            if (productId !== product._id) {\r\n                dispatch(listProductDetails(productId))\r\n            }\r\n        }\r\n    }, [dispatch, product, productId]) //history\r\n    // }, [dispatch, match.params.id, userInfo])\r\n\r\n    const onClickHandler = (e) => {\r\n        e.preventDefault()\r\n        console.log(\"Kontaktuj predajcu\")\r\n        setShow(!show)\r\n    }\r\n\r\n    // Note: this is using default_service, which will map to whatever\r\n    // default email provider you've set in your EmailJS account.\r\n    const sendFeedback = ({\r\n        templateId,\r\n        senderEmail,\r\n        receiverEmail,\r\n        feedback,\r\n        user,\r\n    }) => {\r\n        window.emailjs\r\n            .send(\r\n                'default_service',\r\n                templateId,\r\n                {\r\n                    sender_email: senderEmail,\r\n                    receiver_email: receiverEmail,\r\n                    sender_name: userInfo.name,\r\n                    product_name: product.name,\r\n                    message: feedback,\r\n                },\r\n                user\r\n            )\r\n            .then((res) => {\r\n                if (res.status === 200) {\r\n                    setFormSubmitSuccessful(true);\r\n                }\r\n            })\r\n            // Handle errors here however you like\r\n            .catch((err) => console.error('Failed to send feedback. Error: ', err));\r\n    };\r\n\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n\r\n        // TODO: receiver (owner of product) and sender (logged user) email\r\n\r\n        const {\r\n            REACT_APP_EMAILJS_RECEIVER: receiverEmail,\r\n            REACT_APP_EMAILJS_TEMPLATEID: templateId,\r\n            REACT_APP_EMAILJS_USERID: user,\r\n        } = env;\r\n\r\n        // ale vzdy to tomu uzivatelovi dojde z mojho mailu co mam nastaveny v programe\r\n        const senderEmail = 'skaann.dev@gmail.com' //userInfo.email// userinfi\r\n\r\n        console.log(receiverEmail, templateId, user)\r\n\r\n        sendFeedback({\r\n            templateId,\r\n            senderEmail,\r\n            receiverEmail,\r\n            feedback,\r\n            user,\r\n        });\r\n\r\n        setFormSubmitted(true);\r\n    }\r\n\r\n\r\n    if (formSubmitted && formSubmitSuccessful) {\r\n        console.log('form submitted and succesful')\r\n        setShow(false)\r\n        setFormSubmitted(false)\r\n        // setFormSubmitSuccessful(false)\r\n    }\r\n\r\n\r\n    return (<>\r\n\r\n        < div className=\"fadeMe\" style={{ display: `${show ? 'block' : 'none'}`, verticalAlign: 'middle' }}>\r\n            <i className=\"fas fa-times fa-3x\"\r\n                style={{ position: 'absolute', top: '1.5rem', right: '10%', cursor: 'pointer' }}\r\n                onClick={onClickHandler} />\r\n            <div style={{ width: '100%', height: '100%', display: 'table' }}>\r\n                <div className='m-auto' style={{\r\n                    display: 'table-cell',\r\n                    // textAlign: 'center', \r\n                    verticalAlign: 'middle'\r\n                }}>\r\n\r\n                    <div className='p-4' style={{ backgroundColor: 'white', width: '50%', minHeight: '50%', margin: 'auto', minWidth: '350px' }}>\r\n                        <h2 className='fw-400 mb-3'>  <i className=\"far fa-paper-plane mr-2\"></i> Správa pre používateľa <span className='fw-800'>{product && product.user.name}</span></h2>\r\n                        <p className='text-justify'>Ak máte záujem produkt <strong>{product && product.name}</strong>, napíšte správu predajcovi/kupcovi/darcovi. V správe nezabudnite pekné oslovenie. :)</p>\r\n\r\n                        <Form onSubmit={submitHandler}>\r\n                            <Form.Label>Text správy</Form.Label>\r\n                            <Form.Control as=\"textarea\" onChange={(e) => setFeedback(e.target.value)}\r\n                                placeholder='Dobrý deň, ...' rows={6} required className='mb-3' />\r\n                            <div className='text-center'><button type='submit' className='my-btn-primary fw-500 w-100 fs-18px'> Odoslať </button></div>\r\n                        </Form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div >\r\n\r\n        <Container className='mt-5rem'>\r\n            {loading ? <Loader />\r\n                : error ? <Message>{error}</Message>\r\n                    : (\r\n                        <>\r\n                            <Row>\r\n                                <Col md='6'>\r\n                                    PONUKA / Elektronika / Bezdrotove sluchadla\r\n                                </Col>\r\n                            </Row>\r\n\r\n                            <Row>\r\n                                {/* LAVA CAST OBRAZOVKY */}\r\n                                <Col md='6' className='mb-2'>\r\n                                    <ImageCarousel images={product.images} />\r\n                                </Col>\r\n\r\n                                {/* PRAVA CAST OBRAZOVKY */}\r\n                                <Col md='6' >\r\n\r\n                                    <div className='border px-4 py-4'>\r\n                                        <h3 className=' fw-400 mb-3'>{product.name} </h3>\r\n\r\n                                        <Row>\r\n                                            <Col md={6}>\r\n                                                <h2 className=' fw-500 mb-3'>\r\n                                                    {product.price === 0 ? 'Zadarmo' : `${product.price}€ / ks`}\r\n                                                </h2>\r\n                                                <span>dostupnosť: {product.countInStock} ks</span>\r\n                                            </Col>\r\n                                            <Col md={6}>\r\n                                                {formSubmitSuccessful\r\n                                                    ? <span> Správa bola úspešne odoslaná! </span>\r\n                                                    :\r\n                                                    userInfo &&\r\n                                                    <button className='my-btn-primary mt-4 fw-500' style={{ float: 'right' }} onClick={onClickHandler}>\r\n                                                        <i className=\"far fa-paper-plane mr-1\"></i> Mám záujem</button>\r\n                                                }\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n\r\n                                    </div>\r\n\r\n                                    <Row style={{ margin: 'inherit', backgroundColor: 'antiquewhite' }} className='text-center py-2'>\r\n                                        <Col lg={3} className='py-1 m-auto fs-14px'> <i className=\"far fa-user mr-1\"></i> {product.user.name} </Col>\r\n                                        <Col lg={3} className='py-1 m-auto fs-14px'> <i className=\"far fa-clock mr-1\"></i> {product.createdAt && product.createdAt.substring(0, 10)} </Col>\r\n                                        <Col lg={3} className='py-1 m-auto fs-14px fw-500' style={{ letterSpacing: '0' }}> <i className=\"fas fa-tag mr-1\"></i> {translateClassification(product.classification)} </Col>\r\n                                        <Col lg={3} className='py-1 m-auto fs-14px fw-500' style={{ letterSpacing: '0' }}> <i className=\"far fa-gem mr-1\"></i> {translateCondition(product.condition)} </Col>\r\n                                    </Row>\r\n\r\n                                    <div>\r\n                                        <MDBNav className=\"nav-tabs mt-5\">\r\n                                            <MDBNavItem>\r\n                                                <MDBNavLink link to=\"#\" active={activeItem === '1'} onClick={toggle(\"1\")} role=\"tab\" >\r\n                                                    Popis\r\n                                            </MDBNavLink>\r\n                                            </MDBNavItem>\r\n                                            <MDBNavItem>\r\n                                                <MDBNavLink link to=\"#\" active={activeItem === '2'} onClick={toggle(\"2\")} role=\"tab\" >\r\n                                                    Špecifikácia\r\n                                            </MDBNavLink>\r\n                                            </MDBNavItem>\r\n                                            <MDBNavItem>\r\n                                                <MDBNavLink link to=\"#\" active={activeItem === '3'} onClick={toggle(\"3\")} role=\"tab\" >\r\n                                                    Doprava a doručenie\r\n                                                    {/* poštovné */}\r\n                                                </MDBNavLink>\r\n                                            </MDBNavItem>\r\n                                        </MDBNav>\r\n                                        <MDBTabContent activeItem={activeItem} >\r\n                                            <MDBTabPane tabId=\"1\" role=\"tabpanel\">\r\n                                                <p className=\"mt-3 px-1 text-justify fs-15px\">\r\n                                                    {product.description}\r\n                                                </p>\r\n                                            </MDBTabPane>\r\n\r\n\r\n                                            <MDBTabPane tabId=\"2\" role=\"tabpanel\">\r\n                                                <h6 className='text-uppercase fw-600 mt-3'>Základné vlastnosti</h6>\r\n                                                <Table striped size='sm' className='mt-2'>\r\n                                                    <tbody>\r\n                                                        <tr>\r\n                                                            <td>pôvod</td>\r\n                                                            <td>{product.origin}</td>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <td>výrobca</td>\r\n                                                            <td>{product.brand}</td>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <td>šírka x výška x hĺbka</td>\r\n                                                            {product.measures !== undefined &&\r\n                                                                <td>{product.measures.width} x {product.measures.height} x {product.measures.depth}</td>}\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <td>hmotnosť</td>\r\n                                                            {product.measures !== undefined && <td>{product.measures.weight}</td>}\r\n                                                        </tr>\r\n                                                    </tbody>\r\n                                                </Table>\r\n\r\n                                                <h6 className='text-uppercase fw-600 mt-3'>Ďalšie vlastnosti</h6>\r\n\r\n                                                {product.moreProperties !== undefined &&\r\n                                                    // product.moreProperties.length === 0 ?\r\n                                                    // <Message variant='info'>Tato cast je prazdna</Message>\r\n                                                    // :\r\n                                                    <>\r\n                                                        {product.moreProperties.length === 0 && <div className='mt-2'><Message variant='info'>Tato cast je prazdna</Message></div>}\r\n\r\n                                                        <Table striped size='sm' className='mt-2'>\r\n                                                            <tbody>\r\n                                                                {product.moreProperties.map((item, index) =>\r\n                                                                    <tr key={index}>\r\n                                                                        <td>{item.key}</td>\r\n                                                                        <td>{item.val}</td>\r\n                                                                    </tr>\r\n                                                                )}\r\n                                                            </tbody>\r\n                                                        </Table>\r\n                                                    </>\r\n                                                }\r\n\r\n                                                {/* } */}\r\n                                            </MDBTabPane>\r\n\r\n\r\n                                            <MDBTabPane tabId=\"3\" role=\"tabpanel\">\r\n                                                {product.shipping !== undefined &&\r\n                                                    // product.moreProperties.length === 0 ?\r\n                                                    // <Message variant='info'>Tato cast je prazdna</Message>\r\n                                                    // :\r\n                                                    <>\r\n                                                        {product.shipping.length === 0 && <div className='mt-3'><Message variant='info'>Tato cast shipping prazdna</Message></div>}\r\n\r\n                                                        <Table striped size='sm' className='mt-3'>\r\n                                                            <tbody>\r\n                                                                {product.shipping.map((item, index) =>\r\n                                                                    <tr key={index}>\r\n                                                                        <td>{item.typ}</td>\r\n                                                                        <td>{item.price}</td>\r\n                                                                    </tr>\r\n                                                                )}\r\n                                                            </tbody>\r\n                                                        </Table>\r\n                                                    </>\r\n                                                }\r\n\r\n                                            </MDBTabPane>\r\n                                        </MDBTabContent>\r\n                                    </div>\r\n\r\n                                    {/* <FeedbackForm env={env} /> */}\r\n                                </Col>\r\n                            </Row>\r\n\r\n                        </>\r\n                    )\r\n            }\r\n        </Container>\r\n    </>\r\n    )\r\n}\r\n\r\nexport default ProductScreen\r\n","//  Not my work\r\n//  Source: https://codesandbox.io/s/react-select-v2-required-input-xw1zv\r\n//\r\n\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst noop = () => {\r\n  // no operation (do nothing real quick)\r\n};\r\n\r\nclass FixRequiredSelect extends React.Component {\r\n  state = {\r\n    value: this.props.value || \"\"\r\n  };\r\n\r\n  selectRef = null;\r\n  setSelectRef = ref => {\r\n    this.selectRef = ref;\r\n  };\r\n\r\n  onChange = (value, actionMeta) => {\r\n    this.props.onChange(value, actionMeta);\r\n    this.setState({ value });\r\n  };\r\n\r\n  getValue = () => {\r\n    if (this.props.value !== undefined) return this.props.value;\r\n    return this.state.value || \"\";\r\n  };\r\n\r\n  render() {\r\n    const { SelectComponent, required, ...props } = this.props;\r\n    const { isDisabled } = this.props;\r\n    const enableRequired = !isDisabled;\r\n\r\n    return (\r\n      <div>\r\n        <SelectComponent\r\n          {...props}\r\n          ref={this.setSelectRef}\r\n          onChange={this.onChange}\r\n        />\r\n        {enableRequired && (\r\n          <input\r\n            tabIndex={-1}\r\n            autoComplete=\"off\"\r\n            style={{\r\n              opacity: 0,\r\n              width: \"100%\",\r\n              height: 0,\r\n              position: \"absolute\"\r\n            }}\r\n            value={this.getValue()}\r\n            onChange={noop}\r\n            onFocus={() => this.selectRef.focus()}\r\n            required={required}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nFixRequiredSelect.defaultProps = {\r\n  onChange: noop\r\n};\r\n\r\nFixRequiredSelect.protoTypes = {\r\n  // react-select component class (e.g. Select, Creatable, Async)\r\n  selectComponent: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func,\r\n  required: PropTypes.bool\r\n};\r\n\r\nexport default FixRequiredSelect;","import React, { useState } from 'react'\r\nimport BaseSelect from 'react-select';\r\nimport FixRequiredSelect from './FixRequiredSelect.js';\r\n\r\nconst ReactSelect = (props) => {\r\n\r\n    const [state, setState] = useState({})\r\n\r\n    const handleChange = (selectedOption) => {\r\n        setState({ selectedOption });\r\n        props.onSelect(selectedOption)\r\n        console.log(`Option selected:`, selectedOption);\r\n    };\r\n\r\n    const { selectedOption } = state;\r\n\r\n    const options = props.options\r\n\r\n    const Select = (props) => (\r\n        <FixRequiredSelect\r\n            {...props}\r\n            SelectComponent={BaseSelect}\r\n            options={options}\r\n        />\r\n    );\r\n\r\n    return (\r\n        <>\r\n            {props.req\r\n                ? <Select value={selectedOption} onChange={handleChange} options={options} placeholder={<span>Vyberte...</span>} required />\r\n                : <Select value={selectedOption} onChange={handleChange} options={options} placeholder={<span>Vyberte...</span>} />\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ReactSelect\r\n","import React, { Component } from 'react';\r\n\r\n// https://www.positronx.io/react-multiple-files-upload-with-node-express-tutorial/\r\n// https://www.positronx.io/react-single-and-multiple-images-upload-preview/\r\nexport default class UploadMultipleImages extends Component {\r\n\r\n    fileObj = [];\r\n    fileArray = [];\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            file: [null],\r\n            reload: false\r\n        }\r\n        this.uploadMultipleFiles = this.uploadMultipleFiles.bind(this)\r\n        this.uploadFiles = this.uploadFiles.bind(this)\r\n    }\r\n\r\n    uploadMultipleFiles(e) {\r\n        // if (this.fileObj.length === 0) { \r\n        //     this.fileObj.push(e.target.files) \r\n        // } else {\r\n        Array.from(e.target.files).forEach(file => { this.fileObj.push(file) });\r\n        //e.target.files.map(file => this.fileObj.push(file))\r\n        // }\r\n        this.fileArray = []\r\n        for (let i = 0; i < this.fileObj.length; i++) {\r\n            this.fileArray.push(URL.createObjectURL(this.fileObj[i]))\r\n        }\r\n        this.setState({ file: this.fileArray })\r\n        console.log(this.fileObj)\r\n        this.props.onUpload(this.fileObj)\r\n    }\r\n\r\n\r\n    // uploadMultipleFiles(e) {\r\n    //     this.fileObj.push(e.target.files)\r\n    //     for (let i = 0; i < this.fileObj[0].length; i++) {\r\n    //         this.fileArray.push(URL.createObjectURL(this.fileObj[0][i]))\r\n    //     }\r\n    //     this.setState({ file: this.fileArray })\r\n    //     this.setState({ imgCollection: e.target.files })\r\n    //     console.log(this.state.imgCollection)\r\n    //     this.props.onUpload(this.imgCollection) //this.fileArray)\r\n    //     this.fileObj = []\r\n    // }\r\n\r\n    uploadFiles(e) {\r\n        e.preventDefault()\r\n        console.log(this.state.file)\r\n    }\r\n\r\n    deleteImage(e, index) {\r\n        e.preventDefault()\r\n        this.fileArray.splice(index, 1);\r\n        this.fileObj.splice(index, 1);\r\n        this.props.onUpload(this.fileObj)\r\n        console.log(index)\r\n        this.setState(\r\n            { reload: true },\r\n            () => this.setState({ reload: false })\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div className=\"form-group multi-preview\">\r\n                    {(this.fileArray || []).map((url, index) => (\r\n                        <img src={url} alt={index} key={index} onClick={(e) => { this.deleteImage(e, index) }} />\r\n                    ))}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <input type=\"file\" name='photos' className=\"form-control pb-5\" onChange={this.uploadMultipleFiles} multiple />\r\n                </div>\r\n                {/* <button type=\"button\" className=\"btn btn-danger btn-block\" onClick={this.uploadFiles}>Upload</button> */}\r\n            </ >\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\n// https://www.positronx.io/react-multiple-files-upload-with-node-express-tutorial/\r\n// https://www.positronx.io/react-single-and-multiple-images-upload-preview/\r\nexport default class UploadMultipleImages extends Component {\r\n\r\n    fileObj = [];\r\n    fileNewObj = [];\r\n    fileArray = [];\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            file: [null],\r\n            reload: false\r\n        }\r\n        if (this.props.images) {\r\n            console.log('mam images');\r\n            console.log(this.props.images);\r\n            const imagesUrl = []\r\n            const imageObj = []\r\n            for (var i = 0; i < this.props.images.length; i++) {\r\n                // imagesUrl.push(`/uploads/${this.props.userId}/${this.props.images[i]}`)\r\n                //  imageObj.push(`/uploads/${this.props.userId}/${this.props.images[i]}`)\r\n                imagesUrl.push(this.props.images[i])\r\n                imageObj.push(this.props.images[i])\r\n            }\r\n            this.fileArray = imagesUrl\r\n            this.fileObj = imageObj\r\n        }\r\n        console.log(this.fileArray)\r\n        console.log(this.fileObj)\r\n        this.uploadMultipleFiles = this.uploadMultipleFiles.bind(this)\r\n        this.uploadFiles = this.uploadFiles.bind(this)\r\n        this.props.onLoad(this.props.images)\r\n    }\r\n\r\n    uploadMultipleFiles(e) {\r\n        // if (this.fileObj.length === 0) { \r\n        //     this.fileObj.push(e.target.files) \r\n        // } else {\r\n        Array.from(e.target.files).forEach(file => { this.fileObj.push(file) });\r\n        Array.from(e.target.files).forEach(file => { this.fileNewObj.push(file) });\r\n        //e.target.files.map(file => this.fileObj.push(file))\r\n        // }\r\n        // this.fileArray = []\r\n        for (let i = 0; i < this.fileNewObj.length; i++) {\r\n            this.fileArray.push(URL.createObjectURL(this.fileNewObj[i]))\r\n        }\r\n        this.fileNewObj = []\r\n        this.setState({ file: this.fileArray })\r\n        console.log(this.fileObj)\r\n        this.props.onUpload(this.fileObj)\r\n    }\r\n\r\n\r\n    // uploadMultipleFiles(e) {\r\n    //     this.fileObj.push(e.target.files)\r\n    //     for (let i = 0; i < this.fileObj[0].length; i++) {\r\n    //         this.fileArray.push(URL.createObjectURL(this.fileObj[0][i]))\r\n    //     }\r\n    //     this.setState({ file: this.fileArray })\r\n    //     this.setState({ imgCollection: e.target.files })\r\n    //     console.log(this.state.imgCollection)\r\n    //     this.props.onUpload(this.imgCollection) //this.fileArray)\r\n    //     this.fileObj = []\r\n    // }\r\n\r\n    uploadFiles(e) {\r\n        e.preventDefault()\r\n        console.log(this.state.file)\r\n    }\r\n\r\n    deleteImage(e, index) {\r\n        e.preventDefault()\r\n        this.fileArray.splice(index, 1);\r\n        this.fileObj.splice(index, 1);\r\n        this.props.onUpload(this.fileObj)\r\n        console.log(index)\r\n        this.setState(\r\n            { reload: true },\r\n            () => this.setState({ reload: false })\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div className=\"form-group multi-preview\">\r\n                    {(this.fileArray || []).map((url, index) => (\r\n                        <img src={url} alt={index} key={index} onClick={(e) => { this.deleteImage(e, index) }} />\r\n                    ))}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <input type=\"file\" name='photos' className=\"form-control pb-5\" onChange={this.uploadMultipleFiles} multiple />\r\n                </div>\r\n                {/* <button type=\"button\" className=\"btn btn-danger btn-block\" onClick={this.uploadFiles}>Upload</button> */}\r\n            </ >\r\n        )\r\n    }\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Container, Row, Col, Table, Image } from 'react-bootstrap'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { Link, Route } from 'react-router-dom'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport { listMyProducts, deleteProduct } from '../actions/productActions'\r\nimport { getUserProfile } from '../actions/userActions'\r\nimport { USER_UPDATE_PROFILE_RESET } from '../constants/userConstants'\r\nimport { PRODUCT_CREATE_RESET, PRODUCT_UPDATE_RESET, PRODUCT_DELETE_RESET } from '../constants/productConstants'\r\nimport UserInfoPanel from '../components/UserInfoPanel'\r\nimport { translateClassification } from '../utils/translate'\r\nimport MyPagination from '../components/MyPagination'\r\n\r\nconst UserProfileScreen = ({ history, match, prevProps }) => {\r\n    const pageSize = 5  // TODO 10\r\n    const pageNumber = match.params.pageNumber || 1\r\n    // ked nastavim useState na 1, tak sa nebude nacitavat pri Moj profil(lenze to i zosatne na poslednej prezeranej strane...)\r\n    const [newPageNumber, setNewPageNumber] = useState(0)   // TODO: rename oldPage\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    // Global level state\r\n    // is logged\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    // get info about logged user\r\n    const userProfile = useSelector(state => state.userProfile)\r\n    const { loading, error, user } = userProfile\r\n\r\n    // update logged user\r\n    const userUpdateProfile = useSelector((state) => state.userUpdateProfile)\r\n    const { success } = userUpdateProfile\r\n\r\n    // get products from logged user\r\n    const productListMy = useSelector(state => state.productListMy)\r\n    const { loading: loadingProducts, error: errorProducts, products, count, pages, page } = productListMy\r\n\r\n    // create product from CreateProductScreen\r\n    const productCreate = useSelector((state) => state.productCreate)\r\n    const { success: productCreateSuccess } = productCreate\r\n\r\n    // updated product from EditProductScreen\r\n    const productUpdate = useSelector((state) => state.productUpdate)\r\n    const { success: productUpdateSuccess } = productUpdate\r\n\r\n    // deleted product\r\n    const productDelete = useSelector(state => state.productDelete)\r\n    const { loading: loadingDelete, error: errorDelete, success: successDelete } = productDelete\r\n\r\n    const componentDidUpdate = (prevProps) => {\r\n        console.log(\"zmenil sa \", pageNumber, newPageNumber)\r\n        if (newPageNumber !== pageNumber) {//match.params.pageNumber) {\r\n            setNewPageNumber(pageNumber)//match.params.pageNumber);\r\n            dispatch(listMyProducts(pageNumber, pageSize))\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!userInfo) {\r\n            history.push('/login')\r\n        } else {\r\n            if (!user || !user.name) {\r\n                // DISPATCH USER DETAILS\r\n                dispatch(getUserProfile())\r\n                // DISPATCH MY PRODUCTS\r\n                dispatch(listMyProducts(pageNumber, pageSize))\r\n                setNewPageNumber(pageNumber)\r\n            }\r\n\r\n            if (success) {   // success profile update\r\n                dispatch({ type: USER_UPDATE_PROFILE_RESET })\r\n                // DISPATCH USER DETAILS\r\n                dispatch(getUserProfile())\r\n            }\r\n\r\n            if (productCreateSuccess || productUpdateSuccess || successDelete) {\r\n                dispatch({ type: PRODUCT_CREATE_RESET })\r\n                dispatch({ type: PRODUCT_UPDATE_RESET })\r\n                dispatch({ type: PRODUCT_DELETE_RESET })\r\n                // DISPATCH MY PRODUCTS\r\n                dispatch(listMyProducts(pageNumber, pageSize))\r\n            }\r\n\r\n            componentDidUpdate(prevProps)\r\n\r\n            // if (pageNumber){\r\n            //     console.log(\"som v pagenumber\")\r\n            // }\r\n\r\n            // if (!user || !user.name || success || productCreateSuccess || productUpdateSuccess || successDelete) {\r\n            //     dispatch({ type: PRODUCT_CREATE_RESET })\r\n            //     dispatch({ type: PRODUCT_UPDATE_RESET })\r\n            //     dispatch({ type: PRODUCT_DELETE_RESET })\r\n            //     dispatch({ type: USER_UPDATE_PROFILE_RESET })\r\n            //     // DISPATCH USER DETAILS\r\n            //     dispatch(getUserProfile())\r\n            //     // DISPATCH USER PRODUCTS\r\n            //     dispatch(listMyProducts())\r\n            // }\r\n        }\r\n    }, [dispatch, userInfo, user, success, productCreateSuccess, productUpdateSuccess, successDelete, pageNumber, history])\r\n\r\n    const deleteHandler = (id) => {\r\n        if (window.confirm('Táto operácia je nezvratná. Naozaj chcete odstrániť produkt?')) {\r\n            // DISPATCH DELETE PRODUCTS\r\n            dispatch(deleteProduct(id))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container className='mt-5rem'>\r\n            <Row>\r\n                <Col lg={3} className='my-3'>\r\n\r\n                    <h2 className='mb-3 pt-3 fw-600 text-center'>Môj profil</h2>\r\n                    {loading ? <Loader />\r\n                        : error ? <Message>{error}</Message>\r\n                            : user && (\r\n                                <div style={{ border: '0', boxShadow: '0 2px 5px 0 rgb(0 0 0 / 16%), 0 2px 10px 0 rgb(0 0 0 / 12%)' }}>\r\n                                    <UserInfoPanel user={user} />\r\n                                    <div className='px-2'>\r\n                                        <span className='my-btn-small my-3' style={{ width: '100%' }}> <i className='fas fa-edit'></i> <Link to={'/user/my/profile/update'}> Aktualizovať </Link> </span>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                </Col>\r\n                <Col lg={9} className='my-3'>\r\n                    <h2 className='mb-3 pt-3 fw-600'>Moje produkty</h2>\r\n                    {loadingProducts ? <Loader />\r\n                        : errorProducts ? <Message>{error}</Message>\r\n                            : products.length === 0 ? <Message variant='info'>Zatiaľ ste nepridali žiadne produkty</Message>\r\n                                :\r\n                                (\r\n                                    <>\r\n                                        <Table striped bordered responsive className='table-sm'>\r\n                                            <thead>\r\n                                                <tr className='text-uppercase'>\r\n                                                    <th className='fw-600 vert-align-midd ' style={{ width: '8%' }}></th>\r\n                                                    <th className='fw-600 vert-align-midd  pl-small-table-td' style={{ width: '25%' }}>Názov</th>\r\n                                                    <th className='fw-600 vert-align-midd ' style={{ width: '10%' }}>Typ</th>\r\n                                                    <th className='fw-600 vert-align-midd ' style={{ width: '15%' }}>Cena</th>\r\n                                                    <th className='fw-600 vert-align-midd  text-center' style={{ width: '17%' }}>Dátum pridania</th>\r\n                                                    <th className='fw-600 vert-align-midd ' style={{ width: '25%' }}></th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                {products.map(product => (\r\n                                                    <tr key={product._id}>\r\n                                                        <td className='vert-align-midd text-center'><Image src={product.images.length !== 0 ? product.images[0] : '/images/bez-fotky.jpg'} alt={product.name} fluid rounded style={{ maxWidth: '70px' }} /></td>\r\n                                                        <td className='vert-align-midd fw-600 pl-small-table-td' >{product.name}</td>\r\n                                                        <td className='vert-align-midd'>{translateClassification(product.classification)}</td>\r\n                                                        <td className='vert-align-midd'>{product.price}</td>\r\n                                                        <td className='vert-align-midd text-center'>{product.createdAt.substring(0, 10)}</td>\r\n                                                        <td className='vert-align-midd text-center'>\r\n                                                            <LinkContainer to={`/user/product/${product._id}/edit`}>\r\n                                                                <button className='my-btn-small' >\r\n                                                                    <i className='fas fa-edit'></i> Upraviť\r\n                                                </button>\r\n                                                            </LinkContainer>\r\n                                                            <button className='my-btn-small' onClick={() => deleteHandler(product._id)}>\r\n                                                                <i className='fas fa-trash'></i> Zmazať\r\n                                            </button>\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                ))}\r\n                                            </tbody>\r\n                                        </Table>\r\n                                        <Route render={({ history }) => <MyPagination itemsCountPerPage={pageSize} totalItemsCount={count} activePage={page} history={history} screen={1} />} />\r\n                                        {/*  itemsCountPerPage={10} */}\r\n                                        {/* <MyPagination itemsCountPerPage={2} totalItemsCount={count} activePage={page} /> */}\r\n                                    </>\r\n                                )}\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default UserProfileScreen\r\n","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Container, Row, Col, Table, Image } from 'react-bootstrap'\r\nimport { Link, Route } from 'react-router-dom'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport { listFavoriteProducts } from '../actions/productActions'\r\nimport { getCategoryName } from '../utils/translate'\r\nimport MyPagination from '../components/MyPagination'\r\n\r\nconst FavoriteProductsScreen = ({ history, match }) => {\r\n    const pageSize = 3  // TODO 10\r\n    const pageNumber = match.params.pageNumber || 1\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    const productListFavorite = useSelector(state => state.productListFavorite)\r\n    const { loading, error, products, count, pages, page } = productListFavorite\r\n\r\n    useEffect(() => {\r\n        // user must be login\r\n        if (!userInfo) {\r\n            history.push('/login')\r\n        }\r\n        dispatch(listFavoriteProducts(pageNumber, pageSize))\r\n    }, [dispatch, userInfo, history, pageNumber])\r\n\r\n    return (\r\n        <Container className='mt-5rem'>\r\n            <Row>\r\n                <Col>\r\n                <h2 className='mb-3 pt-4 fw-600'> <i className=\"far fa-heart mr-1\" style={{ color: 'pink' }}></i> Obľúbené ({count})</h2>\r\n                    {loading ? <Loader />\r\n                        : error ? <Message>{error}</Message>\r\n                            : products.length === 0 ? <Message variant='info'>Zatiaľ nemáte pridané žiadne produkty medzi obľúbenými</Message>\r\n                                : (<Table responsive className='table-sm'>\r\n                                    <thead>\r\n                                        <tr className='text-uppercase'>\r\n                                            {/* https://stackoverflow.com/questions/15115052/how-to-set-up-fixed-width-for-td */}\r\n                                            <th className='fw-600' style={{ width: '9%' }}></th>\r\n                                            <th className='fw-600 pl-table-td' style={{ width: '24%' }}>Názov</th>\r\n                                            <th className='fw-600' style={{ width: '24%' }}>Kategória</th>\r\n                                            <th className='fw-600' style={{ width: '12%' }}>Cena</th>\r\n                                            <th className='fw-600' style={{ width: '14%' }}>Dátum pridania</th>\r\n                                            <th className='fw-600' style={{ width: '17%' }} >Vlastník</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {products.map(product => (\r\n                                            <tr key={product._id} >\r\n                                                <td className='vert-align-midd'> <Image src={product.images.length !== 0 ? product.images[0] : '/images/bez-fotky.jpg'} alt={product.name} fluid rounded style={{ maxWidth: '80px' }} /></td>\r\n                                                <td className='vert-align-midd fw-600 pl-table-td'><Link to={`/product/${product._id}`}>{product.name}</Link></td>\r\n                                                <td className='vert-align-midd'>{getCategoryName(product.category)}</td>\r\n                                                <td className='vert-align-midd'>{product.price}</td>\r\n                                                <td className='vert-align-midd'>{product.createdAt.substring(0, 10)}</td>\r\n                                                <td className='vert-align-midd'><Link to={`/products/user/${product.user._id}`}>{product.user.name}</Link></td>\r\n                                            </tr>\r\n                                        ))}\r\n                                    </tbody>\r\n                                </Table>)}\r\n                    <Route render={({ history }) => <MyPagination itemsCountPerPage={pageSize} totalItemsCount={count} activePage={page} history={history} screen={2} />} />\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default FavoriteProductsScreen\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Container, Form, Button, Row, Col } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport { register } from '../actions/userActions'\r\nimport FormContainerSmall from '../components/FormContainerSmall'\r\n\r\nconst RegisterScreenNew = ({ location, history }) => {\r\n    // Component level state\r\n    // User model attributes\r\n    const [profileType, setProfileType] = useState('')\r\n    const [name, setName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [confirmPassword, setConfirmPassword] = useState('')\r\n    const [phoneNumber, setPhoneNumber] = useState('')\r\n    const [locality, setLocality] = useState('')\r\n    const [profileImage, setProfileImage] = useState('/images/sample-profile.svg')\r\n    // Tieto spolu s fotkou neskor...\r\n    // const [profileInfo, setProfileInfo] = useState('')\r\n    // const [marketPolicy, setMarketPolicy] = useState('')\r\n    // favoriteProducts set automatically\r\n\r\n    const [message, setMessage] = useState('')\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const userRegister = useSelector(state => state.userRegister)\r\n    const { loading, error, userInfo } = userRegister\r\n\r\n    const redirect = location.search ? location.search.split('=')[1] : '/'   // URL query string\r\n\r\n    useEffect(() => {\r\n        // Redirect when we are sign in\r\n        if (userInfo) {\r\n            history.push(redirect)\r\n        }\r\n    }, [history, userInfo, redirect])\r\n\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n        setMessage('')\r\n        if (password !== confirmPassword) {\r\n            setMessage('Heslá sa nezhodujú!')\r\n        } else {\r\n            // DISPATCH REGISTER ACTION\r\n            const newUser = {\r\n                name, email, password,\r\n                phoneNumber, profileImage, profileType,\r\n                locality,\r\n                // profileInfo, marketPolicy\r\n            }\r\n            dispatch(register(newUser))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container className='mt-5rem'>\r\n            <FormContainerSmall myHeight='55rem'>\r\n                <div className='mid-align'>\r\n                    <h2 className='text-uppercase fw-500 text-center mb-3'>Registrácia</h2>\r\n                    {message && <Message>{message}</Message>}\r\n                    {error && <Message>{error}</Message>}\r\n                    {loading && <Loader />}\r\n                    <Form onSubmit={submitHandler} className='form-pad'>\r\n\r\n                        <Form.Group controlId=\"profileTypeBox\" value={profileType} onChange={(e) => setProfileType(e.target.value)}>\r\n                            <Form.Label className=\"form-check-inline mb-0 fs-14px font-italic\">Typ profilu* </Form.Label>\r\n                            <div className='disp-block'>\r\n                                <Form.Check className=\"form-check-inline pl-3\" type=\"radio\" name='condition' value='user' label=\"fyzická osoba\" required />\r\n                                <Form.Check className=\"form-check-inline pl-3\" type=\"radio\" name='condition' value='company' label=\"organizácia\" required />\r\n                            </div>\r\n                        </Form.Group>\r\n\r\n                        {/* <Form.Group controlId='locality' className='form-check-inline mr-0 w-100'>\r\n                        <Form.Label className=\"form-check-inline mb-0 fs-14px font-italic\">Lokalita* </Form.Label>\r\n                        <Form.Control type='text' className=\"mainLoginInput login-control ml-3\" placeholder='napr. Bratislava, Slovenská republika' value={locality}\r\n                            onChange={(e) => setLocality(e.target.value)} required ></Form.Control>\r\n                    </Form.Group> */}\r\n\r\n                        {/* form-check-inline */}\r\n                        <Form.Group controlId='name'>\r\n                            <Form.Label className='mb-0 fs-14px font-italic'>Užívateľské meno*</Form.Label>\r\n                            <Form.Control type='text' className=\"mainLoginInput login-control\" placeholder=\"&#61447;  MENO\" value={name}\r\n                                onChange={(e) => setName(e.target.value)} required\r\n                                style={{ marginBottom: '1.1rem' }}></Form.Control>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId='email'>\r\n                            <Form.Label className='mb-0 fs-14px font-italic'>Email*</Form.Label>\r\n                            <Form.Control type='email' className=\"mainLoginInput login-control\" placeholder=\"&#x40; EMAIL\" value={email}\r\n                                onChange={(e) => setEmail(e.target.value)} required\r\n                                style={{ marginBottom: '1.1rem' }}></Form.Control>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId='phoneNumber'>\r\n                            <Form.Label className='mb-0 fs-14px font-italic'>Telefónne číslo*</Form.Label>\r\n                            {/* TODO: valid only digits onKeyPress */}\r\n                            <Form.Control type='text' className=\"mainLoginInput login-control\" placeholder='&#x2706;  TELEFÓNNE ČÍSLO' value={phoneNumber}\r\n                                onChange={(e) => setPhoneNumber(e.target.value)}\r\n                                style={{ marginBottom: '1.1rem' }}></Form.Control>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId='locality'>\r\n                            <Form.Label className=\"mb-0 fs-14px font-italic\">Lokalita* </Form.Label>\r\n                            <Form.Control type='text' className=\"mainLoginInput login-control\" placeholder='napr. Bratislava, Slovenská republika' value={locality}\r\n                                onChange={(e) => setLocality(e.target.value)} required\r\n                                style={{ marginBottom: '1.1rem' }}></Form.Control>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId='password'>\r\n                            <Form.Label className='mb-0 fs-14px font-italic'>Heslo*</Form.Label>\r\n                            <Form.Control type='password' className=\"mainLoginInput login-control mb-2\" placeholder=\"&#61475;  HESLO\" value={password}\r\n                                onChange={(e) => setPassword(e.target.value)} required>\r\n                            </Form.Control>\r\n                            {/* </Form.Group>\r\n\r\n                    <Form.Group controlId='confirmPassword'> */}\r\n                            {/* <Form.Label>Potvrďte heslo* </Form.Label> */}\r\n                            <Form.Control type='password' className=\"mainLoginInput login-control\" placeholder=\"&#61475;  POTVRDIŤ HESLO\" value={confirmPassword}\r\n                                onChange={(e) => setConfirmPassword(e.target.value)} required></Form.Control>\r\n                        </Form.Group>\r\n\r\n                        {/* <Button  variant='primary'>Prihlásiť!</Button> */}\r\n                        <button type='submit' className='my-btn-big my-3 text-uppercase' style={{ width: '100%' }}> Zaregistruj! </button>\r\n                    </Form>\r\n\r\n\r\n\r\n                    <Row className='pb-3 pt-2'>\r\n                        <Col className='text-center fs-14px'> Už máš konto? <Link to={redirect ? `/login?redirect=${redirect}` : '/login'}>Prihlás sa!</Link></Col>\r\n                    </Row>\r\n                </div>\r\n            </FormContainerSmall>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default RegisterScreenNew\r\n","import axios from 'axios'\r\nimport React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Button, Form, Image, Row, Col, Container } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport FormContainer from '../components/FormContainer'\r\nimport { getUserProfile, updateUserProfile } from '../actions/userActions'\r\n\r\nconst ProfileUpdateScreenNew = ({ history }) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    // Component level state\r\n    const [name, setName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [phoneNumber, setPhoneNumber] = useState('')\r\n    const [profileInfo, setProfileInfo] = useState('')\r\n    const [marketPolicy, setMarketPolicy] = useState('')\r\n    // Change password\r\n    const [password, setPassword] = useState('')\r\n    const [newPassword, setNewPassword] = useState('')\r\n    const [confirmNewPassword, setConfirmNewPassword] = useState('')\r\n    // Cannot change - profileType, locality\r\n    const [profileType, setProfileType] = useState('')\r\n    const [locality, setLocality] = useState('')\r\n\r\n    const [message, setMessage] = useState('')\r\n\r\n    // TODO: profileImage\r\n    const [profileImage, setProfileImage] = useState('')    // tu uskladnene url, blob\r\n    const [image, setImage] = useState('')  // tu uskladneny File\r\n    const [uploading, setUploading] = useState(false)\r\n\r\n    // is logged\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    // get info about logged user\r\n    const userProfile = useSelector(state => state.userProfile)\r\n    const { loading, error, user } = userProfile\r\n\r\n    // update logged user\r\n    const userUpdateProfile = useSelector((state) => state.userUpdateProfile)\r\n    const { success } = userUpdateProfile\r\n\r\n    useEffect(() => {\r\n        if (!userInfo) {\r\n            history.push('/login')\r\n        } else {\r\n            // if user update success then redirect\r\n            if (success) {\r\n                history.push('/user/my/profile')\r\n            } else {\r\n\r\n                if (!user || !user.name) {\r\n                    // dispatch({ type: USER_UPDATE_PROFILE_RESET })\r\n                    // DISPATCH USER DETAILS\r\n                    dispatch(getUserProfile())\r\n                } else {\r\n                    setName(user.name)\r\n                    setEmail(user.email)\r\n                    setPhoneNumber(user.phoneNumber)\r\n                    setProfileInfo(user.profileInfo)\r\n                    setMarketPolicy(user.marketPolicy)\r\n                    setProfileType(user.profileType)\r\n                    setProfileImage(user.profileImage)\r\n                    setLocality(user.locality)\r\n                    setImage(user.profileImage)\r\n                }\r\n            }\r\n        }\r\n    }, [dispatch, userInfo, user, success, history])\r\n\r\n    const uploadFileHandler = async (e) => {\r\n        const file = image//e.target.files[0]  // can upload multiple files\r\n        console.log(file)\r\n        const formData = new FormData()\r\n        formData.append('userId', userInfo._id);\r\n        formData.append('avatar', file)    // image sa vola i v backend\r\n        setUploading(true)\r\n\r\n        try {\r\n            const config = {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            }\r\n\r\n            console.log(formData)\r\n\r\n            const { data } = await axios.post(`/api/upload/profile`, formData, config)\r\n            // setImage(data)\r\n            setUploading(false)\r\n            return data\r\n        } catch (error) {\r\n            console.error(error)\r\n            setUploading(false)\r\n            return error\r\n        }\r\n    }\r\n\r\n    const authorizeUser = async (e) => {\r\n        try {\r\n            const config = {\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            }\r\n\r\n            const { data } = await axios.post('/api/users/auth', { email, password }, config)\r\n            return true\r\n        } catch (error) {\r\n            console.error(error)\r\n            return false\r\n        }\r\n    }\r\n\r\n\r\n    const handleImage = (e) => setImage(e.target.files[0])\r\n    const handlePhoto = (e) => setProfileImage(URL.createObjectURL(e.target.files[0]))\r\n\r\n    const imageChangeHandler = async (e) => {\r\n        console.log('Choosed file ', e.target.files[0])\r\n        if (e.target.files[0]) {\r\n            handleImage(e)\r\n            handlePhoto(e)\r\n        }\r\n        // ale napriek tomu sa vypisuje stara hodnota :/\r\n        //await setImage(e.target.files[0])\r\n        //await setProfileImage(URL.createObjectURL(image))\r\n    }\r\n\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault()\r\n\r\n        // Chcem menit heslo \r\n        if (newPassword && confirmNewPassword) {\r\n            console.log('Chcem menit heslo')\r\n\r\n            if (newPassword !== confirmNewPassword) {\r\n                setMessage('Nové heslá sa nezhodujú!')\r\n            } else {\r\n                // zisti ci je spravne aktualne heslo\r\n                // ak je nove heslo aj potvrdene tak zisti ci sa zhoduje stare heslo...\r\n                const isCorrectPassword = await authorizeUser()\r\n\r\n                console.log(isCorrectPassword)\r\n\r\n                if (isCorrectPassword) {\r\n\r\n                    let imgUrl\r\n                    console.log('Toto je image ', image)\r\n                    if (image === user.profileImage) {\r\n                        imgUrl = image\r\n                    }\r\n                    else {\r\n                        imgUrl = await uploadFileHandler()\r\n                    }\r\n\r\n                    const updatedUser = {\r\n                        id: user._id, name, email,\r\n                        phoneNumber, profileInfo, marketPolicy,\r\n                        profileImage: imgUrl, password: newPassword\r\n                    }\r\n\r\n                    // DISPATCH UPDATE PROFILE\r\n                    dispatch(updateUserProfile(updatedUser))\r\n                    console.log('UPDATE PROFILE')\r\n                } else {\r\n                    setMessage('Nezadali ste spravne aktualne heslo!')\r\n                }\r\n            }\r\n        } else {\r\n            // Nechcem menit heslo\r\n            let imgUrl\r\n            console.log('Toto je image ', image)\r\n            if (image === user.profileImage) {\r\n                imgUrl = image\r\n            }\r\n            else {\r\n                imgUrl = await uploadFileHandler()\r\n            }\r\n\r\n            const updatedUser = {\r\n                id: user._id, name, email,\r\n                phoneNumber, profileInfo, marketPolicy,\r\n                profileImage: imgUrl\r\n            }\r\n\r\n            console.log(updatedUser)\r\n            // DISPATCH UPDATE PROFILE\r\n            dispatch(updateUserProfile(updatedUser))\r\n            console.log('UPDATE PROFILE')\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <Container className='mt-5rem'>\r\n            <div>\r\n\r\n                {error && <Message>{error}</Message>}\r\n\r\n                <Container style={{\r\n                    border: '1px solid rgba(0,0,0,.125)', borderRadius: '0.25rem'\r\n                }} className='card-style'>\r\n                    <Form onSubmit={submitHandler}>\r\n                        <Row>\r\n\r\n                            <Col sm={5} className='px-5 py-5' style={{ backgroundColor: '#EEEEEE' }}>\r\n                                <h2 className='fw-500 text-uppercase text-center' style={{ marginBottom: '2.2rem' }}> Môj profil</h2>\r\n\r\n                                {/* <Form.Group controlId=\"profileTypeBox \">\r\n                            <Form.Label className='fs-14px form-check-inline'>Typ profilu</Form.Label>\r\n                            <Form.Control className='form-check-inline ml-2' style={{ width: '130px' }}\r\n                                plaintext readOnly value={profileType === 'user' ? 'fyzická osoba' : 'organizácia'} />\r\n                        </Form.Group> */}\r\n\r\n                                <Form.Group controlId='profile-image' className='mt-4 mb-4'>\r\n                                    <div style={{ marginBottom: '2.2rem' }}>\r\n                                        <img src={profileImage} className='profile-pic mx-auto' />\r\n                                    </div>\r\n\r\n                                    <Row className='mt-4'>\r\n                                        <Col lg={4}>\r\n                                            <Form.Label className='fs-14px'>Profilová fotka</Form.Label>\r\n                                        </Col>\r\n                                        <Col lg={8}>\r\n                                            <Form.File className='mx-auto text-left' style={{ maxWidth: '17rem' }} id='image-file'\r\n                                                label='Vyberte fotografiu' custom onChange={imageChangeHandler}></Form.File>\r\n                                        </Col>\r\n                                    </Row>\r\n                                    {/* <Form.Control type='text' placeholder='Enter image url' value={image}></Form.Control> */}\r\n                                    {uploading && <Loader />}\r\n                                </Form.Group>\r\n\r\n                                <Form.Group controlId='profileInfo'>\r\n                                    <Form.Label className='fs-14px'>Informácie o {profileType && profileType === 'company' ? 'nás' : 'mne'}</Form.Label>\r\n                                    <Form.Control as=\"textarea\" value={profileInfo} onChange={(e) => setProfileInfo(e.target.value)}\r\n                                        placeholder='' rows={4} />\r\n                                </Form.Group>\r\n                            </Col>\r\n\r\n\r\n                            <Col sm={7} className='px-5 py-5'>\r\n                                <Row>\r\n                                    <Col sm={4}>\r\n                                        <Form.Group controlId='name'>\r\n                                            <Form.Label className='fs-14px'>Užívateľské meno</Form.Label>\r\n                                            <Form.Control type='text' placeholder='Enter name' value={name}\r\n                                                onChange={(e) => setName(e.target.value)} ></Form.Control>\r\n                                        </Form.Group>\r\n                                    </Col>\r\n\r\n                                    <Col sm={4}>\r\n                                        <Form.Group controlId='email'>\r\n                                            <Form.Label className='fs-14px'>Email </Form.Label>\r\n                                            <Form.Control plaintext readOnly value={email} />\r\n                                        </Form.Group>\r\n                                    </Col>\r\n\r\n                                    <Col sm={4}>\r\n                                        <Form.Group controlId='phoneNumber'>\r\n                                            <Form.Label className='fs-14px'>Telefónne číslo</Form.Label>\r\n                                            {/* TODO: valid only digits onKeyPress */}\r\n                                            <Form.Control type='text' value={phoneNumber}\r\n                                                onChange={(e) => setPhoneNumber(e.target.value)} ></Form.Control>\r\n                                        </Form.Group>\r\n                                    </Col>\r\n\r\n                                </Row>\r\n\r\n                                <Form.Group controlId='locality'>\r\n                                    <Form.Label className=\" form-check-inline fs-14px mr-3\">Lokalita </Form.Label>\r\n                                    <Form.Control className='form-check-inline' plaintext readOnly value={locality} style={{ width: '80%' }} />\r\n                                </Form.Group>\r\n\r\n                                {/* <Form.Group controlId='profileInfo'>\r\n                            <Form.Label className='fs-14px'>Informácie o {profileType && profileType === 'company' ? 'nás' : 'mne'}</Form.Label>\r\n                            <Form.Control as=\"textarea\" value={profileInfo} onChange={(e) => setProfileInfo(e.target.value)}\r\n                                placeholder='' rows={4} />\r\n                        </Form.Group> */}\r\n\r\n                                <Form.Group controlId='marketPolicy'>\r\n                                    <Form.Label className='fs-14px'>Podmienky predaja/kúpy/daru</Form.Label>\r\n                                    <Form.Control as=\"textarea\" value={marketPolicy} onChange={(e) => setMarketPolicy(e.target.value)}\r\n                                        placeholder='' rows={4} />\r\n                                </Form.Group>\r\n\r\n                                <Form.Label className='fs-14px mb-3'>Zmeniť heslo</Form.Label>\r\n                                {message && <Message>{message}</Message>}\r\n\r\n                                {/* <div style={{visibility: 'hidden'}}> */}\r\n                                <Row>\r\n                                    <Col md={4} className='text-center'>\r\n                                        <Form.Group controlId='password'>\r\n                                            <Form.Control className='mainLoginInput mb-0' type='password' placeholder='&#61475;  heslo' value={password}\r\n                                                onChange={(e) => setPassword(e.target.value)}></Form.Control>\r\n                                            <Form.Label className='fs-12px text-muted'>Aktuálne heslo</Form.Label>\r\n                                        </Form.Group>\r\n                                    </Col>\r\n                                    <Col md={4} className='text-center'>\r\n                                        <Form.Group controlId='newPassword'>\r\n                                            <Form.Control className='mainLoginInput mb-0' type='password' placeholder='&#61475;  nové heslo' value={newPassword}\r\n                                                onChange={(e) => setNewPassword(e.target.value)}></Form.Control>\r\n                                            <Form.Label className='fs-12px text-muted'>Nové heslo</Form.Label>\r\n                                        </Form.Group>\r\n                                    </Col>\r\n                                    <Col md={4} className='text-center'>\r\n                                        <Form.Group controlId='confirmNewPassword'>\r\n                                            <Form.Control className='mainLoginInput mb-0' type='password' placeholder='&#61475;  nové heslo' value={confirmNewPassword}\r\n                                                onChange={(e) => setConfirmNewPassword(e.target.value)}></Form.Control>\r\n                                            <Form.Label className='fs-12px text-muted'>Potvrdiť nové heslo</Form.Label>\r\n                                        </Form.Group>\r\n                                    </Col>\r\n                                </Row>\r\n\r\n                                <div className='text-center'>\r\n                                    <button type='submit' className='my-btn-big mb-1 mt-4 text-uppercase' style={{ width: '70%' }}> Aktualizovať! </button>\r\n                                </div>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n\r\n                </Container>\r\n            </div >\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default ProfileUpdateScreenNew\r\n","import axios from 'axios'\r\nimport React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Container, Form, Button, Row, Col } from 'react-bootstrap'\r\nimport UploadMultipleImages from '../components/UploadMultipleImages'\r\nimport ReactSelect from '../components/ReactSelect'\r\nimport { categoryOptions } from '../utils/options'\r\nimport { createProduct } from '../actions/productActions'\r\nimport Message from '../components/Message'\r\n\r\n// osetrit aby sa do propList nezaratavali prazdne polozky\r\nconst ProductCreateScreenNew = ({ history }) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const [message, setMessage] = useState('')\r\n    const [message2, setMessage2] = useState('')\r\n    const [errors, setErrors] = useState({})\r\n    const [form, setForm] = useState({})\r\n    const [images, setImages] = useState([])\r\n    const [measures, setMeasures] = useState({\r\n        width: '',\r\n        height: '',\r\n        depth: '',\r\n        weight: ''\r\n    })\r\n    const [propsList, setPropsList] = useState([])  // moreProperties\r\n    const [shippingList, setShippingList] = useState([])\r\n\r\n    const [part, setPart] = useState(1)\r\n    const [step1, setStep1] = useState(true)\r\n    const [step2, setStep2] = useState(false)\r\n    const [step3, setStep3] = useState(false)\r\n    const [allDone, setAllDone] = useState(false)\r\n\r\n    // Global state\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    const productCreate = useSelector(state => state.productCreate)\r\n    const { loading, error: errorCreate, success: successCreate } = productCreate\r\n\r\n    useEffect(() => {\r\n        if (!userInfo) {\r\n            history.push('/login')\r\n        }\r\n\r\n        if (successCreate) {\r\n            // TODO prepnut na zoznam mojich produktov a vypisat uspesnu hlasku\r\n            history.push('/user/my/profile')\r\n        }\r\n\r\n    }, [dispatch, userInfo, history, successCreate])\r\n\r\n    const setField = (field, value) => {\r\n        setForm({\r\n            ...form,\r\n            [field]: value\r\n        })\r\n\r\n        // Check and see if errors exist, and remove them from the error object:\r\n        if (!!errors[field]) setErrors({\r\n            ...errors,\r\n            [field]: null\r\n        })\r\n    }\r\n\r\n    // https://dev.to/alecgrey/controlled-forms-with-front-and-backend-validations-using-react-bootstrap-5a2\r\n    const findFormErrors = () => {\r\n        const { name, description } = form\r\n        const newErrors = {}\r\n        // name errors\r\n        if (!name || name === '') newErrors.name = 'cannot be blank!'\r\n        else if (name.length > 100) newErrors.name = 'name is too long!'\r\n        // comment errors\r\n        if (!description || description === '') newErrors.description = 'cannot be blank!'\r\n        else if (description.length < 3) newErrors.description = 'comment is too short!'\r\n        else if (description.length > 500) newErrors.description = 'comment is too long!'\r\n\r\n        return newErrors\r\n    }\r\n\r\n    // MORE PROPERTIES FUNCTIONS \r\n    // Handle input change\r\n    const handleInputChange = (e, index) => {\r\n        const { name, value } = e.target;\r\n        const list = [...propsList];\r\n        list[index][name] = value;\r\n        setPropsList(list);\r\n    };\r\n\r\n    // Handle click event of the Remove button\r\n    const handleRemoveClick = index => {\r\n        console.log(`remove ${index}`)\r\n        const list = [...propsList];\r\n        console.log(`list before ${JSON.stringify(list)}`)\r\n        list.splice(index, 1);\r\n        console.log(`list after ${JSON.stringify(list)}`)\r\n        setPropsList(list);\r\n    };\r\n\r\n    // Handle click event of the Add button\r\n    const handleAddClick = () => {\r\n        setPropsList([...propsList, { key: '', val: '' }]);\r\n    };\r\n    ////////////////////////////\r\n    // MORE SHIPPING FUNCTIONS \r\n    // Handle input change\r\n    const handleInputChangeShipping = (e, index) => {\r\n        const { name, value } = e.target;\r\n        const list = [...shippingList];\r\n        list[index][name] = value;\r\n        setShippingList(list);\r\n    };\r\n\r\n    // Handle click event of the Remove button\r\n    const handleRemoveClickShipping = index => {\r\n        const list = [...shippingList];\r\n        list.splice(index, 1);\r\n        setShippingList(list);\r\n    };\r\n\r\n    // Handle click event of the Add button\r\n    const handleAddClickShipping = () => {\r\n        setShippingList([...shippingList, { typ: '', price: '' }]);\r\n    };\r\n    //////////////////////////////\r\n\r\n\r\n    const uploadFiles = async (e) => {\r\n        console.log(images)\r\n        const formData = new FormData()\r\n        formData.append('userId', userInfo._id);\r\n        // formData.append('photos', images)    // photos in backend\r\n        // https://stackoverflow.com/questions/65496648/cant-upload-multiple-files-by-using-multer-on-react\r\n        for (var i = 0; i < images.length; i++) {\r\n            formData.append('photos', images[i])\r\n        }\r\n\r\n        try {\r\n            const config = {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            }\r\n\r\n            const { data } = await axios.post(`/api/upload/photos`, formData, config)\r\n            console.log(data)\r\n            return data\r\n\r\n        } catch (error) {\r\n            console.error(error)\r\n            return error\r\n        }\r\n    }\r\n\r\n    const submitFirstPartHandler = async (e) => {\r\n        e.preventDefault()\r\n        console.log('part one', form)\r\n        setPart(2)\r\n        setStep2(true)\r\n    }\r\n\r\n    const submitSecondPartHandler = async (e) => {\r\n        e.preventDefault()\r\n        console.log('part two', form)\r\n\r\n        // get our new errors\r\n        const newErrors = findFormErrors()\r\n        // Conditional logic:\r\n        if (Object.keys(newErrors).length > 0) {\r\n            // We got errors!\r\n            setErrors(newErrors)\r\n        } else {\r\n            // Mozeme pokracovat\r\n            setPart(3)\r\n            setStep3(true)\r\n        }\r\n    }\r\n\r\n    const isBlankPropList = () => {\r\n        let isBlank = false\r\n        propsList.map((it) => (\r\n            (it.key === \"\" || it.val === \"\") && (isBlank = true)\r\n        ))\r\n        return isBlank\r\n    }\r\n\r\n    const isBlankShippingList = () => {\r\n        let isBlank = false\r\n        shippingList.map((it) => (\r\n            (it.typ === \"\" || it.price === \"\") && (isBlank = true)\r\n        ))\r\n        return isBlank\r\n    }\r\n\r\n    const submitAllHandler = async (e) => {\r\n        e.preventDefault()\r\n        setMessage('')\r\n        setMessage2('')\r\n        console.log(images)\r\n\r\n        const blankPropList = isBlankPropList()\r\n        const blankShippingList = isBlankShippingList()\r\n        if (blankPropList || blankShippingList) {\r\n            console.log(\"List je prazdny\")\r\n            console.log(blankShippingList, blankPropList)\r\n            if (blankShippingList) setMessage('Položky v časti Shipping nesmú byť prázdne')\r\n            if (blankPropList) setMessage2('Položky v tejto časti nesmú byť prázdne')\r\n        }\r\n        else {\r\n            setAllDone(true)\r\n\r\n            // UPLOAD IMAGES\r\n            let imagesArr = []\r\n            if (images.length !== 0) {\r\n                imagesArr = await uploadFiles()\r\n                console.log(imagesArr)\r\n            }\r\n\r\n            const newProduct = form\r\n            // https://www.codegrepper.com/code-examples/javascript/javascript+object+can+add+attribute\r\n            // newProduct['active'] = true\r\n            newProduct['images'] = imagesArr\r\n            newProduct['measures'] = measures\r\n            newProduct['shipping'] = shippingList\r\n            newProduct['moreProperties'] = propsList\r\n\r\n            // const newProduct = {\r\n            //     //form,\r\n            //     active: true, \r\n            //     // images: imagesArr,\r\n            //     measures,\r\n            //     moreProperties: propsList,\r\n\r\n            // }\r\n            console.log(newProduct)\r\n            // DISPATCH CREATE PRODUCT\r\n            dispatch(createProduct(newProduct))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container className='mt-5rem'>\r\n           <h2 className='mb-4 pt-4 fw-600'><i className=\"fas fa-plus mr-1\" style={{ color: 'plum' }}></i> Pridať produkt</h2>\r\n            <Row style={{ minHeight: '70vh' }}>\r\n                <Col md={3} className='p-0' style={{ background: 'yellow' }}>\r\n                    {/* if step 1 then on click */}\r\n                    {/* if setpart1 tak tie ostatne steps dame false, aby sme sa museli preklikat znovu  */}\r\n                    <div className='my-form-section px-3'\r\n                        onClick={(e) => { step1 && setPart(1) }}\r\n                        style={{ color: `${!step1 ? '#6c757d' : 'black'}` }}>\r\n\r\n                        <div className='ml-2' style={{ display: 'inline-block', verticalAlign: 'middle' }}>\r\n                            {step2 ? <i className=\"far fa-check-circle fa-2x\" style={{ color: 'green' }}></i>\r\n                                : <i className=\"far fa-times-circle fa-2x\" style={{ color: `${step1 && 'red'}` }}></i>}\r\n                        </div>\r\n                        <div className=\"ml-3\" style={{ display: 'inline-block', verticalAlign: 'middle' }}>\r\n                            <h5> <strong>1. KROK</strong></h5> Typ produktu\r\n                         </div>\r\n                    </div>\r\n\r\n                    <div className='my-form-section px-3' onClick={(e) => { step2 && setPart(2) }}\r\n                        style={{ color: `${!step2 ? '#6c757d' : 'black'}` }}>\r\n\r\n                        <div className='ml-2 inline-block-middle'>\r\n                            {step3 ? <i className=\"far fa-check-circle fa-2x\" style={{ color: 'green' }}></i>\r\n                                : <i className=\"far fa-times-circle fa-2x\" style={{ color: `${step2 && 'red'}` }}></i>}\r\n                        </div>\r\n                        <div className=\"ml-3 inline-block-middle\">\r\n                            <h5><strong>2. KROK</strong></h5> Základné informácie\r\n                         </div>\r\n\r\n                    </div>\r\n                    <div className='my-form-section px-3' onClick={(e) => { step3 && setPart(3) }}\r\n                        style={{ color: `${!step3 ? '#6c757d' : 'black'}` }} >\r\n\r\n                        <div className='ml-2 inline-block-middle'>\r\n                            {allDone ? <i className=\"far fa-check-circle fa-2x\" style={{ color: 'green' }}></i>\r\n                                : <i className=\"far fa-times-circle fa-2x\" style={{ color: `${step3 && 'red'}` }}></i>}\r\n                        </div>\r\n                        <div className=\"ml-3 inline-block-middle\">\r\n                            <h5><strong>3. KROK</strong></h5> Špecifikácia produktu\r\n                         </div>\r\n                    </div>\r\n                </Col>\r\n                <Col md={9} style={{ background: 'aliceblue' }} className='my-form-body'>\r\n\r\n                    <div style={{ display: `${step1 && part == 1 ? 'block' : 'none'}` }}>\r\n                        <h2 className='text-uppercase fw-500 mb-4'> Typ produktu </h2>\r\n                        <Form onSubmit={submitFirstPartHandler}>\r\n                            <Form.Group as={Row} controlId=\"category\" className='my-5'>\r\n                                <Form.Label column sm=\"3\" className='my-form-label'>Kategória*</Form.Label>\r\n                                <Col sm=\"9\">\r\n                                    <ReactSelect req={true} options={categoryOptions} onSelect={(val) => setField('category', val.value)} />\r\n                                </Col>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Row} controlId=\"classificationBox\" className='my-5' onChange={(e) => setField('classification', e.target.value)}>\r\n                                <Form.Label column sm=\"3\" className='my-form-label'>Typ*</Form.Label>\r\n                                <Col sm=\"9\">\r\n                                    <Form.Check className=\"form-check-inline mr-3\" type=\"radio\" name='classification' value='supply' label=\"ponuka\" required />\r\n                                    <Form.Check className=\"form-check-inline mr-3\" type=\"radio\" name='classification' value='demand' label=\"dopyt\" required />\r\n                                    <Form.Check className=\"form-check-inline\" type=\"radio\" name='classification' value='donor' label=\"darujem\" required />\r\n                                </Col>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Row} controlId=\"conditionBox\" className='my-5' onChange={(e) => setField('condition', e.target.value)}>\r\n                                <Form.Label column sm=\"3\" className='my-form-label'>Stav tovaru*</Form.Label>\r\n                                <Col sm=\"9\">\r\n                                    <Form.Check className=\"form-check-inline mr-3\" type=\"radio\" name='condition' value='new' label=\"nový\" required />\r\n                                    <Form.Check className=\"form-check-inline mr-3\" type=\"radio\" name='condition' value='used' label=\"použitý\" required />\r\n                                    <Form.Check className=\"form-check-inline\" type=\"radio\" name='condition' value='handmade' label=\"vlastná výroba\" required />\r\n                                </Col>\r\n                            </Form.Group>\r\n                            <button type='submit' className='mt-3 my-form-checkout-btn' style={{ float: 'right' }}>Pokračovať <i className=\"fas fa-chevron-circle-right fa-2x ml-2\"></i></button>\r\n                        </Form>\r\n                    </div>\r\n\r\n\r\n                    <div style={{ display: `${step1 && step2 && part == 2 ? 'block' : 'none'}` }}>\r\n                        <h2 className='text-uppercase fw-500 mb-3'> Základné informácie </h2>\r\n                        <Form onSubmit={submitSecondPartHandler}>\r\n                            <Form.Group as={Row} controlId='name' className='my-5'>\r\n                                <Form.Label column sm=\"2\" className='my-form-label'>Názov* </Form.Label>\r\n                                <Col sm=\"10\">\r\n                                    <Form.Control type='text' onChange={e => setField('name', e.target.value)}\r\n                                        placeholder='Zadajte názov produktu' required\r\n                                        isInvalid={!!errors.name}></Form.Control>\r\n                                    <Form.Control.Feedback type='invalid'>\r\n                                        {errors.name}\r\n                                    </Form.Control.Feedback>\r\n                                </Col>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Row} controlId=\"countInStockAndPrice\" className='my-5'>\r\n                                <Form.Label column sm=\"2\" className='my-form-label' >Počet kusov* </Form.Label>\r\n                                <Col sm=\"4\">\r\n                                    <Form.Control type='number' step={'1'} min={1}\r\n                                        onChange={(e) => setField('countInStock', Number(e.target.value))} required />\r\n                                </Col>\r\n\r\n                                <Form.Label column sm=\"2\" className='my-form-label'>Cena* </Form.Label>\r\n                                <Col sm=\"4\">\r\n                                    {form.classification && form.classification === 'donor' ?\r\n                                        <Form.Control plaintext readOnly value=\"Zadarmo\" />\r\n                                        :\r\n                                        <Form.Control type='number' step={'.01'} min={0}\r\n                                            onChange={(e) => setField('price', Number(e.target.value))} />\r\n                                    }\r\n                                    {/* <Form.Text id=\"priceBlock\" muted> Ak chcete niečo darovať zadajte 0 </Form.Text> */}\r\n                                </Col>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId='images' className='my-5'>\r\n                                <Form.Label className='my-form-label'>Fotky</Form.Label>\r\n                                <UploadMultipleImages onUpload={(val) => setImages(val)} />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId='description' className='my-5'>\r\n                                <Form.Label className='my-form-label'>Popis* </Form.Label>\r\n                                <Form.Control as=\"textarea\" onChange={(e) => setField('description', e.target.value)}\r\n                                    isInvalid={!!errors.description}\r\n                                    placeholder='Zadajte popis produktu' rows={4} required />\r\n                                <Form.Control.Feedback type='invalid'>\r\n                                    {errors.description}\r\n                                </Form.Control.Feedback>\r\n                            </Form.Group>\r\n                            <button type='submit' className='my-form-checkout-btn' style={{ float: 'right' }}>Pokračovať <i className=\"fas fa-chevron-circle-right fa-2x ml-2\"></i></button>\r\n                        </Form>\r\n                    </div>\r\n\r\n\r\n                    <div style={{ display: `${step1 && step2 && step3 && part == 3 ? 'block' : 'none'}` }}>\r\n                        <h2 className='text-uppercase fw-500 mb-4'> Špecifikácia produktu </h2>\r\n                        <Form onSubmit={submitAllHandler}>\r\n                            <Form.Group as={Row} controlId='originAndBrand' className='my-5'>\r\n                                <Form.Label column sm=\"2\" className='my-form-label'>Pôvod</Form.Label>\r\n                                <Col sm=\"4\">\r\n                                    <Form.Control type='text' onChange={(e) => setField('origin', e.target.value)}\r\n                                        placeholder='Vyrobené v...' required ></Form.Control>\r\n                                </Col>\r\n\r\n                                <Form.Label column sm=\"2\" className='my-form-label'>Výrobca</Form.Label>\r\n                                {/* Značka */}\r\n                                <Col sm=\"4\">\r\n                                    <Form.Control type='text' onChange={(e) => setField('brand', e.target.value)}\r\n                                        placeholder='Značka produktu' ></Form.Control>\r\n                                    <Form.Text id=\"brandBlock\" muted> Ak nie je známa alebo na nej nezáleží zadajte pomlčku </Form.Text>\r\n                                </Col>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId='measures' className='my-5'>\r\n                                <Form.Label className='my-form-label'>Rozmery výrobku</Form.Label>\r\n                                {/* šírka, výška, hĺbka, váha */}\r\n                                <Row>\r\n                                    <Col sm='6' className='mb-2'>\r\n                                        <div className='form-check-inline w-5r'>šírka</div>\r\n                                        <Form.Control className='form-check-inline w-50 pad-control' type='text'\r\n                                            value={measures.width} onChange={(e) => setMeasures({ ...measures, width: e.target.value })}\r\n                                            placeholder='' ></Form.Control>\r\n                                    </Col>\r\n                                    <Col sm='6' className='mb-2'>\r\n                                        <div className='form-check-inline w-5r'>výška</div>\r\n                                        <Form.Control className='form-check-inline w-50 pad-control' type='text'\r\n                                            value={measures.height} onChange={(e) => setMeasures({ ...measures, height: e.target.value })}\r\n                                            placeholder='' ></Form.Control>\r\n                                    </Col>\r\n                                    <Col sm='6' className='mb-2'>\r\n                                        <div className='form-check-inline w-5r'>hĺbka</div>\r\n                                        <Form.Control className='form-check-inline w-50 pad-control' type='text'\r\n                                            value={measures.depth} onChange={(e) => setMeasures({ ...measures, depth: e.target.value })}\r\n                                            placeholder='' ></Form.Control>\r\n                                    </Col>\r\n                                    <Col sm='6' className='mb-2'>\r\n                                        <div className='form-check-inline w-5r'>hmotnosť</div>\r\n                                        <Form.Control className='form-check-inline w-50 pad-control' type='text'\r\n                                            value={measures.weight} onChange={(e) => setMeasures({ ...measures, weight: e.target.value })}\r\n                                            placeholder='' ></Form.Control>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Form.Group>\r\n\r\n\r\n                            <Form.Group controlId=\"shipping\">\r\n                                <Form.Label className='my-form-label'>Spôsoby doručenia / dopravy</Form.Label>\r\n                                <Form.Text id=\"propBlock\" muted> Zvoľte spôsob doručenia produktu. Spôsob aj cena napr. osobný odber - Zadarmo, Slovenská pošta - 1.5e </Form.Text>\r\n                            </Form.Group>\r\n                            {message && <Message>{message}</Message>}\r\n                            {shippingList.length === 0\r\n                                ? <button className='my-btn-small' onClick={handleAddClickShipping} style={{ width: '120px', borderRadius: '0' }}> <i className=\"fas fa-plus\" /> Pridať</button>\r\n                                :\r\n                                shippingList.map((x, i) => {\r\n                                    return (\r\n                                        <Row key={i} className='mb-2'>\r\n                                            <Col sm='4' className='pad-r1'>\r\n                                                <Form.Control\r\n                                                    type='text'\r\n                                                    name='typ'\r\n                                                    placeholder='Zadajte spôsob doručenia'\r\n                                                    value={x.key}\r\n                                                    onChange={e => handleInputChangeShipping(e, i)}\r\n                                                />\r\n                                            </Col>\r\n\r\n                                            <Col sm='4' className='pad-l0'>\r\n                                                <Form.Control\r\n                                                    type='text'\r\n                                                    // className=\"ml10\"\r\n                                                    name='price'\r\n                                                    placeholder='Zadajte cenu doručenia'\r\n                                                    value={x.val}\r\n                                                    onChange={e => handleInputChangeShipping(e, i)}\r\n                                                />\r\n                                            </Col>\r\n\r\n                                            <Col sm='4' className='pad-l0'>\r\n                                                <div className=\"btn-box\">\r\n                                                    {shippingList.length >= 1 &&\r\n                                                        <button type='button' className=\"mr10 py-2 my-btn-small\" style={{ borderRadius: '0' }} onClick={() => handleRemoveClickShipping(i)}>\r\n                                                            <i className=\"fas fa-trash\" /> Zmazať</button>\r\n                                                    }\r\n                                                    {shippingList.length - 1 === i &&\r\n                                                        <button type='button' onClick={handleAddClickShipping} style={{ borderRadius: '0' }} className=\"py-2 my-btn-small\">\r\n                                                            <i className=\"fas fa-plus\" /> Pridať</button>}\r\n                                                </div>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    );\r\n                                })}\r\n\r\n\r\n\r\n                            <Form.Group controlId=\"moreProperties\" className='mt-5'>\r\n                                <Form.Label className='my-form-label'>Ďalšie vlastnosti</Form.Label>\r\n                                <Form.Text id=\"propBlock\" muted> napr. autor, pocet stran, farba, material... bude sa to menit podla kategorie </Form.Text>\r\n                            </Form.Group>\r\n                            {message2 && <Message>{message2}</Message>}\r\n                            {/* https://www.cluemediator.com/add-or-remove-input-fields-dynamically-with-reactjs */}\r\n                            {propsList.length === 0\r\n                                ? <button className='my-btn-small' onClick={handleAddClick} style={{ width: '120px', borderRadius: '0' }}> <i className=\"fas fa-plus\" /> Pridať</button>\r\n                                :\r\n                                propsList.map((x, i) => {\r\n                                    return (\r\n                                        <Row key={i} className='mb-2'>\r\n                                            <Col sm='4' className='pad-r1'>\r\n                                                <Form.Control\r\n                                                    type='text'\r\n                                                    name='key'\r\n                                                    placeholder='Zadajte názov vlastnosti'\r\n                                                    value={x.key}\r\n                                                    onChange={e => handleInputChange(e, i)}\r\n                                                />\r\n                                            </Col>\r\n\r\n                                            <Col sm='4' className='pad-l0'>\r\n                                                <Form.Control\r\n                                                    type='text'\r\n                                                    // className=\"ml10\"\r\n                                                    name='val'\r\n                                                    placeholder='Zadajte hodnotu vlastnosti'\r\n                                                    value={x.val}\r\n                                                    onChange={e => handleInputChange(e, i)}\r\n                                                />\r\n                                            </Col>\r\n\r\n                                            <Col sm='4' className='pad-l0'>\r\n                                                <div className=\"btn-box\">\r\n                                                    {propsList.length >= 1 &&\r\n                                                        <button type='button' className=\"p-2 mr10 my-btn-small\" style={{ borderRadius: '0' }} onClick={() => handleRemoveClick(i)}>\r\n                                                            <i className=\"fas fa-trash\" /> Zmazať</button>\r\n                                                    }\r\n                                                    {propsList.length - 1 === i &&\r\n                                                        <button type='button' onClick={handleAddClick} className=\"p-2 my-btn-small\" style={{ borderRadius: '0' }}>\r\n                                                            <i className=\"fas fa-plus\" /> Pridať</button>}\r\n                                                </div>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    );\r\n                                })}\r\n\r\n                            <button type='submit' className='w-100 mt-4 my-form-checkout-btn' style={{ float: 'right' }}> Uložiť </button>\r\n                            {/* <Button type='submit' variant='indigo' className='w-100 mt-4'>uložiť</Button> */}\r\n                        </Form>\r\n                    </div>\r\n\r\n                </Col>\r\n            </Row >\r\n        </Container >\r\n    )\r\n}\r\n\r\nexport default ProductCreateScreenNew\r\n","import React from 'react'\r\nimport { Container } from 'react-bootstrap'\r\n\r\nconst My404Screen = () => {\r\n    return (\r\n        <Container>\r\n\r\n            <h1 className='fw-500'\r\n                style={{\r\n                    margin: '0',\r\n                    position: 'absolute',\r\n                    top: '50%',\r\n                    // -ms-transform: translateY(-50%);\r\n                    transform: 'translateY(-120%)'\r\n                }}> 404 Táto stránka neexistuje </h1>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default My404Screen\r\n","import axios from 'axios'\r\nimport React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Container, Form, Button, Row, Col } from 'react-bootstrap'\r\nimport { PRODUCT_DETAILS_RESET } from '../constants/productConstants'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport UploadMultipleImages2 from '../components/UploadMultipleImages2'\r\nimport { listProductDetails, updateProduct } from '../actions/productActions'\r\n\r\nconst ProductEditScreenNew = ({ match, history }) => {\r\n    const productId = match.params.id\r\n    const dispatch = useDispatch()\r\n\r\n    // Local states\r\n    const [name, setName] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [price, setPrice] = useState()\r\n    const [countInStock, setCountInStock] = useState()\r\n    const [origin, setOrigin] = useState('')\r\n    const [brand, setBrand] = useState('')\r\n    const [measures, setMeasures] = useState({ width: '', height: '', depth: '', weight: '' })\r\n    const [images, setImages] = useState([])\r\n    const [shippingList, setShippingList] = useState([])\r\n    const [propsList, setPropsList] = useState([])\r\n    // cannot change\r\n    // category, classification, condition\r\n    // Cannot edit \r\n    const [category, setCategory] = useState('')\r\n    const [classification, setClassification] = useState('')\r\n    const [condition, setCondition] = useState('')\r\n    const [reload, setReload] = useState(false)\r\n\r\n    // Global states\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    const productDetails = useSelector(state => state.productDetails)\r\n    const { loading, error, product } = productDetails\r\n\r\n    const productUpdate = useSelector(state => state.productUpdate)\r\n    const { loading: loadingUpdate, error: errorUpdate, success: successUpdate } = productUpdate\r\n\r\n    const uploadFiles = async (e) => {\r\n\r\n        // Zisti na ktorych indexoch su nove Image Files\r\n        const newImgFiles = []\r\n        for (var i = 0; i < images.length; i++) {\r\n            if (typeof images[i] !== 'string') {\r\n                newImgFiles.push(i)\r\n            }\r\n        }\r\n\r\n        if (newImgFiles.length !== 0) {\r\n            console.log('New files on indexes: ', newImgFiles)\r\n            // ak boli pridane nove fotky\r\n            // dovtedy budu stare images - do prveho indexu vo newImgFiles\r\n            const oldImgs = []\r\n            for (var j = 0; j < newImgFiles[0]; j++) {\r\n                oldImgs.push(images[j])\r\n            }\r\n            console.log('Old files: ', oldImgs)\r\n\r\n            // UPLOADNI NOVE IMG FILES\r\n            const formData = new FormData()\r\n            formData.append('userId', userInfo._id);\r\n            for (var k = 0; k < newImgFiles.length; k++) {\r\n                formData.append('photos', images[newImgFiles[k]])\r\n            }\r\n\r\n            try {\r\n                const config = {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data'\r\n                    }\r\n                }\r\n\r\n                const { data } = await axios.post(`/api/upload/photos`, formData, config)\r\n                console.log(data)\r\n                return oldImgs.concat(data)\r\n\r\n            } catch (error) {\r\n                console.error(error)\r\n                return error\r\n            }\r\n\r\n        } else {\r\n            // ak len bola odstranena nejaka z povodnych fotiek \r\n            return images\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if (!userInfo) {\r\n            history.push('/login')\r\n        } else {\r\n            if (successUpdate) {\r\n                dispatch({ type: PRODUCT_DETAILS_RESET })\r\n                history.push('/user/my/profile')\r\n            } else {\r\n\r\n                if (!product || !product.name || product._id !== productId) {\r\n                    dispatch(listProductDetails(productId))\r\n                } else {\r\n                    // Pre-set formular with actual data\r\n                    setName(product.name)\r\n                    setDescription(product.description)\r\n                    setPrice(product.price)\r\n                    setCountInStock(product.countInStock)\r\n                    setOrigin(product.origin)\r\n                    setBrand(product.brand)\r\n                    setMeasures(product.measures)\r\n                    // not editable\r\n                    setCategory(product.category)\r\n                    setClassification(product.classification)\r\n                    setCondition(product.condition)\r\n                    // lists\r\n                    setImages(product.images)\r\n                    setReload(true)\r\n                    setShippingList(product.shipping)\r\n                    setPropsList(product.moreProperties)\r\n                }\r\n            }\r\n        }\r\n    }, [dispatch, productId, product, history, successUpdate])\r\n\r\n    // MORE PROPERTIES FUNCTIONS \r\n    // Handle input change\r\n    const handleInputChange = (e, index) => {\r\n        const { name, value } = e.target;\r\n        const list = [...propsList];\r\n        list[index][name] = value;\r\n        setPropsList(list);\r\n    };\r\n\r\n    // Handle click event of the Remove button\r\n    const handleRemoveClick = index => {\r\n        console.log(`remove ${index}`)\r\n        const list = [...propsList];\r\n        console.log(`list before ${JSON.stringify(list)}`)\r\n        list.splice(index, 1);\r\n        console.log(`list after ${JSON.stringify(list)}`)\r\n        setPropsList(list);\r\n    };\r\n\r\n    // Handle click event of the Add button\r\n    const handleAddClick = () => {\r\n        setPropsList([...propsList, { key: '', val: '' }]);\r\n    };\r\n    ////////////////////////////\r\n    // MORE SHIPPING FUNCTIONS \r\n    // Handle input change\r\n    const handleInputChangeShipping = (e, index) => {\r\n        const { name, value } = e.target;\r\n        const list = [...shippingList];\r\n        list[index][name] = value;\r\n        setShippingList(list);\r\n    };\r\n\r\n    // Handle click event of the Remove button\r\n    const handleRemoveClickShipping = index => {\r\n        const list = [...shippingList];\r\n        list.splice(index, 1);\r\n        setShippingList(list);\r\n    };\r\n\r\n    // Handle click event of the Add button\r\n    const handleAddClickShipping = () => {\r\n        setShippingList([...shippingList, { typ: '', price: '' }]);\r\n    };\r\n    //////////////////////////////\r\n\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault()\r\n\r\n        // console.log('ImageFiles: ', imageFiles)\r\n        console.log('Images: ', images)\r\n        // ak ImagesFiles je prazdne tak to treba len vlozit product.images\r\n\r\n        // zisti ci images == product.images\r\n        // ak sa nerovnaju tak vtedy zavolaj uploadFiles\r\n        // zisti kolko je novych Files v images\r\n\r\n        let imagesArr\r\n        if (images === product.images) {\r\n            console.log('Ziadne fotky sa nezmenili')\r\n            imagesArr = images\r\n        } else {\r\n            // Su nejake nove/zmazane fotky\r\n            // UPLOAD IMAGES\r\n            console.log('fotky sa zmenili')\r\n            imagesArr = await uploadFiles()\r\n            console.log(imagesArr)\r\n        }\r\n\r\n        // DISPATCH UPDATE PRODUCT\r\n        // ak nie su undefined tak ich treba pushnut\r\n        const newProduct = {\r\n            _id: productId, name, description, price,\r\n            category, classification, condition,\r\n            countInStock, origin, brand, measures,\r\n            images: imagesArr,\r\n            shipping: shippingList,\r\n            moreProperties: propsList,\r\n        }\r\n\r\n        console.log(JSON.stringify(newProduct))\r\n        dispatch(updateProduct(newProduct))\r\n    }\r\n\r\n    return (\r\n        <Container className='mt-5rem'>\r\n            <h2>Edit Product</h2>\r\n\r\n            { loading ? <Loader />\r\n                : error ? <Message variant='danger'>{error}</Message>\r\n                    : (\r\n                        <Form onSubmit={submitHandler}>\r\n\r\n                            {/* tu nezmenitelne - category, classification, condition */}\r\n                            <Form.Group as={Row} controlId='name'>\r\n                                <Form.Label column sm=\"2\" className='my-form-label'>Názov </Form.Label>\r\n                                <Col sm=\"10\">\r\n                                    <Form.Control type='text' value={name} onChange={(e) => setName(e.target.value)}\r\n                                        placeholder='Zadajte názov produktu' required></Form.Control>\r\n                                </Col>\r\n                            </Form.Group>\r\n\r\n                            {reload &&\r\n                                <Form.Group controlId='images'>\r\n                                    <Form.Label className='my-form-label'>Fotky</Form.Label>\r\n                                    {product.images.length === 0 && <div>Žiadne fotky</div>}\r\n                                    {/* <Form.Control type='text' value={images} onChange={(e) => setImages(e.target.value)} /> */}\r\n                                    <UploadMultipleImages2 images={product.images} userId={userInfo._id} onLoad={(val) => setImages(val)} onUpload={(val) => setImages(val)} />\r\n                                </Form.Group>}\r\n\r\n                            {product.classification !== 'donor' &&\r\n                                <Form.Group as={Row} controlId=\"price\">\r\n                                    <Form.Label column sm=\"2\" className='my-form-label'>Cena</Form.Label>\r\n                                    <Col sm=\"10\">\r\n                                        <Form.Control type='number' step={'.01'} min={0}\r\n                                            value={price} onChange={(e) => setPrice(Number(e.target.value))} required />\r\n                                    </Col>\r\n                                </Form.Group>\r\n                            }\r\n\r\n                            <Form.Group as={Row} controlId=\"countInStock\">\r\n                                <Form.Label column sm=\"2\" className='my-form-label' >Počet kusov </Form.Label>\r\n                                <Col sm=\"4\">\r\n                                    <Form.Control type='number' step={'1'} min={1}\r\n                                        value={countInStock} onChange={(e) => setCountInStock(Number(e.target.value))} required />\r\n                                </Col>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId='description' className='my-5'>\r\n                                <Form.Label className='my-form-label'>Popis </Form.Label>\r\n                                <Form.Control as=\"textarea\" value={description} onChange={(e) => setDescription(e.target.value)}\r\n                                    placeholder='Zadajte popis produktu' rows={4} required />\r\n                                {/* <Form.Control.Feedback type='invalid'>\r\n                                    {errors.description}\r\n                                </Form.Control.Feedback> */}\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Row} controlId='originAndBrand'>\r\n                                <Form.Label column sm=\"2\" className='my-form-label'>Pôvod</Form.Label>\r\n                                <Col sm=\"4\">\r\n                                    <Form.Control type='text' value={origin} onChange={(e) => setOrigin(e.target.value)}\r\n                                        placeholder='Vyrobené v...' required ></Form.Control>\r\n                                </Col>\r\n\r\n                                <Form.Label column sm=\"2\" className='my-form-label'>Výrobca</Form.Label>\r\n                                {/* Značka */}\r\n                                <Col sm=\"4\">\r\n                                    <Form.Control type='text' value={brand} onChange={(e) => setBrand(e.target.value)}\r\n                                        placeholder='Značka produktu' ></Form.Control>\r\n                                    <Form.Text id=\"brandBlock\" muted> Ak nie je známa alebo na nej nezáleží zadajte pomlčku </Form.Text>\r\n                                </Col>\r\n                            </Form.Group>\r\n\r\n\r\n                            <Form.Group controlId='measures' className='my-5'>\r\n                                <Form.Label className='my-form-label'>Rozmery výrobku</Form.Label>\r\n                                {/* šírka, výška, hĺbka, váha */}\r\n                                <Row>\r\n                                    <Col sm='6' className='mb-2'>\r\n                                        <div className='form-check-inline w-5r'>šírka</div>\r\n                                        <Form.Control className='form-check-inline w-50 pad-control' type='text'\r\n                                            value={measures.width} onChange={(e) => setMeasures({ ...measures, width: e.target.value })}\r\n                                            placeholder='' ></Form.Control>\r\n                                    </Col>\r\n                                    <Col sm='6' className='mb-2'>\r\n                                        <div className='form-check-inline w-5r'>výška</div>\r\n                                        <Form.Control className='form-check-inline w-50 pad-control' type='text'\r\n                                            value={measures.height} onChange={(e) => setMeasures({ ...measures, height: e.target.value })}\r\n                                            placeholder='' ></Form.Control>\r\n                                    </Col>\r\n                                    <Col sm='6' className='mb-2'>\r\n                                        <div className='form-check-inline w-5r'>hĺbka</div>\r\n                                        <Form.Control className='form-check-inline w-50 pad-control' type='text'\r\n                                            value={measures.depth} onChange={(e) => setMeasures({ ...measures, depth: e.target.value })}\r\n                                            placeholder='' ></Form.Control>\r\n                                    </Col>\r\n                                    <Col sm='6' className='mb-2'>\r\n                                        <div className='form-check-inline w-5r'>hmotnosť</div>\r\n                                        <Form.Control className='form-check-inline w-50 pad-control' type='text'\r\n                                            value={measures.weight} onChange={(e) => setMeasures({ ...measures, weight: e.target.value })}\r\n                                            placeholder='' ></Form.Control>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"shipping\">\r\n                                <Form.Label className='my-form-label'>Spôsoby doručenia / dopravy</Form.Label>\r\n                                <Form.Text id=\"propBlock\" muted> Zvoľte spôsob doručenia produktu. Spôsob aj cena napr. osobný odber - Zadarmo, Slovenská pošta - 1.5e </Form.Text>\r\n                            </Form.Group>\r\n                            {/* {message && <Message>{message}</Message>} */}\r\n                            {shippingList.length === 0\r\n                                ? <button className='my-btn-small' onClick={handleAddClickShipping} style={{ width: '120px', borderRadius: '0' }}> <i className=\"fas fa-plus\" /> Pridať</button>\r\n                                :\r\n                                shippingList.map((x, i) => {\r\n                                    return (\r\n                                        <Row key={i} className='mb-2'>\r\n                                            <Col sm='4' className='pad-r1'>\r\n                                                <Form.Control\r\n                                                    type='text'\r\n                                                    name='typ'\r\n                                                    placeholder='Zadajte spôsob doručenia'\r\n                                                    value={x.typ}\r\n                                                    onChange={e => handleInputChangeShipping(e, i)}\r\n                                                />\r\n                                            </Col>\r\n\r\n                                            <Col sm='4' className='pad-l0'>\r\n                                                <Form.Control\r\n                                                    type='text'\r\n                                                    // className=\"ml10\"\r\n                                                    name='price'\r\n                                                    placeholder='Zadajte cenu doručenia'\r\n                                                    value={x.price}\r\n                                                    onChange={e => handleInputChangeShipping(e, i)}\r\n                                                />\r\n                                            </Col>\r\n\r\n                                            <Col sm='4' className='pad-l0'>\r\n                                                <div className=\"btn-box\">\r\n                                                    {shippingList.length >= 1 &&\r\n                                                        <button type='button' className=\"mr10 py-2 my-btn-small\" style={{ borderRadius: '0' }} onClick={() => handleRemoveClickShipping(i)}>\r\n                                                            <i className=\"fas fa-trash\" /> Zmazať</button>\r\n                                                    }\r\n                                                    {shippingList.length - 1 === i &&\r\n                                                        <button type='button' onClick={handleAddClickShipping} style={{ borderRadius: '0' }} className=\"py-2 my-btn-small\">\r\n                                                            <i className=\"fas fa-plus\" /> Pridať</button>}\r\n                                                </div>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    );\r\n                                })}\r\n\r\n                            <Form.Group controlId=\"moreProperties\" className='mt-5'>\r\n                                <Form.Label className='my-form-label'>Ďalšie vlastnosti</Form.Label>\r\n                                <Form.Text id=\"propBlock\" muted> napr. autor, pocet stran, farba, material... bude sa to menit podla kategorie </Form.Text>\r\n                            </Form.Group>\r\n                            {/* {message2 && <Message>{message2}</Message>} */}\r\n                            {/* https://www.cluemediator.com/add-or-remove-input-fields-dynamically-with-reactjs */}\r\n                            {propsList.length === 0\r\n                                ? <button className='my-btn-small' onClick={handleAddClick} style={{ width: '120px', borderRadius: '0' }}> <i className=\"fas fa-plus\" /> Pridať</button>\r\n                                :\r\n                                propsList.map((x, i) => {\r\n                                    return (\r\n                                        <Row key={i} className='mb-2'>\r\n                                            <Col sm='4' className='pad-r1'>\r\n                                                <Form.Control\r\n                                                    type='text'\r\n                                                    name='key'\r\n                                                    placeholder='Zadajte názov vlastnosti'\r\n                                                    value={x.key}\r\n                                                    onChange={e => handleInputChange(e, i)}\r\n                                                />\r\n                                            </Col>\r\n\r\n                                            <Col sm='4' className='pad-l0'>\r\n                                                <Form.Control\r\n                                                    type='text'\r\n                                                    // className=\"ml10\"\r\n                                                    name='val'\r\n                                                    placeholder='Zadajte hodnotu vlastnosti'\r\n                                                    value={x.val}\r\n                                                    onChange={e => handleInputChange(e, i)}\r\n                                                />\r\n                                            </Col>\r\n\r\n                                            <Col sm='4' className='pad-l0'>\r\n                                                <div className=\"btn-box\">\r\n                                                    {propsList.length >= 1 &&\r\n                                                        <button type='button' className=\"p-2 mr10 my-btn-small\" style={{ borderRadius: '0' }} onClick={() => handleRemoveClick(i)}>\r\n                                                            <i className=\"fas fa-trash\" /> Zmazať</button>\r\n                                                    }\r\n                                                    {propsList.length - 1 === i &&\r\n                                                        <button type='button' onClick={handleAddClick} className=\"p-2 my-btn-small\" style={{ borderRadius: '0' }}>\r\n                                                            <i className=\"fas fa-plus\" /> Pridať</button>}\r\n                                                </div>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    );\r\n                                })}\r\n\r\n                            <button type='submit' className='w-100 mt-4 my-form-checkout-btn' > Uložiť </button>\r\n                        </Form>\r\n                    )\r\n            }\r\n        </Container >\r\n    )\r\n}\r\n\r\nexport default ProductEditScreenNew\r\n","import React from 'react'\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\nimport { Container } from 'react-bootstrap'\r\nimport Header from './components/Header'\r\nimport Footer from './components/Footer'\r\n\r\nimport HomeScreen from './screens/HomeScreen'\r\nimport LoginScreen from './screens/LoginScreen'\r\nimport RegisterScreen from './screens/RegisterScreen'\r\nimport UserProductsScreen from './screens/UserProductsScreen'\r\nimport ProductScreen from './screens/ProductScreen'\r\nimport ProductCreateScreen from './screens/ProductCreateScreen'\r\nimport ProductEditScreen from './screens/ProductEditScreen'\r\nimport ProfileScreen from './screens/ProfileScreen'\r\nimport ProfileUpdateScreen from './screens/ProfileUpdateScreen'\r\nimport FavoriteProductsScreen from './screens/FavoriteProductsScreen'\r\nimport RegisterScreenNew from './screens/RegisterScreenNew'\r\nimport ProfileUpdateScreenNew from './screens/ProfileUpdateScreenNew'\r\nimport ProductCreateScreenNew from './screens/ProductCreateScreenNew'\r\nimport My404Screen from './screens/My404Screen'\r\nimport ProductEditScreenNew from './screens/ProductEditScreenNew'\r\n\r\nconst App = () => {\r\n  return (\r\n    <Router>\r\n      <Header />\r\n      <main className='pb-3'>\r\n        {/* <Container> */}\r\n        <Switch>\r\n          <Route path='/login' component={LoginScreen} />\r\n          <Route path='/register' component={RegisterScreenNew} />\r\n          <Route path='/products/user/:id' component={UserProductsScreen} exact />\r\n          <Route path='/products/user/:id/:pageNumber' component={UserProductsScreen} exact />\r\n          <Route path='/product/:id' component={ProductScreen} />\r\n          <Route path='/user/my/favorites' component={FavoriteProductsScreen} exact />\r\n          <Route path='/user/my/favorites/:pageNumber' component={FavoriteProductsScreen} exact />\r\n          <Route path='/user/my/profile' component={ProfileScreen} exact />\r\n          <Route path='/user/my/profile/update' component={ProfileUpdateScreenNew} exact />\r\n          <Route path='/user/my/profile/page/:pageNumber' component={ProfileScreen} exact />\r\n          <Route path='/user/my/product/create' component={ProductCreateScreenNew} />\r\n          <Route path='/user/product/:id/edit' component={ProductEditScreenNew} />\r\n          {/* 4 jednoice */}\r\n          <Route path='/sort/:sortKey' component={HomeScreen} exact />\r\n          <Route path='/search/:keyword' component={HomeScreen} exact />\r\n          <Route path='/filter/:filter' component={HomeScreen} exact />\r\n          <Route path='/page/:pageNumber' component={HomeScreen} exact />\r\n          {/* 3 dvojice (s page) */}\r\n          <Route path='/sort/:sortKey/page/:pageNumber' component={HomeScreen} exact />\r\n          <Route path='/search/:keyword/page/:pageNumber' component={HomeScreen} exact />\r\n          <Route path='/filter/:filter/page/:pageNumber' component={HomeScreen} exact />\r\n          {/* 3 trojice */}\r\n          <Route path='/sort/:sortKey/search/:keyword/page/:pageNumber' component={HomeScreen} exact />\r\n          <Route path='/sort/:sortKey/filter/:filter/page/:pageNumber' component={HomeScreen} exact />\r\n          <Route path='/search/:keyword/filter/:filter/page/:pageNumber' component={HomeScreen} exact />\r\n          {/* 1 stvorica */}\r\n          <Route path='/sort/:sortKey/search/:keyword/filter/:filter/page/:pageNumber' component={HomeScreen} exact />\r\n          <Route path='/' component={HomeScreen} exact />\r\n          <Route component={My404Screen} />\r\n        </Switch>\r\n        {/* </Container> */}\r\n      </main>\r\n      <Footer />\r\n    </Router>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// using Redux\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n// using MDB\r\n// https://mdbootstrap.com/docs/react/getting-started/quick-start/\r\nimport '@fortawesome/fontawesome-free/css/all.min.css';\r\nimport 'bootstrap-css-only/css/bootstrap.min.css';\r\nimport 'mdbreact/dist/css/mdb.css';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}